<template>
  <div class="volume-control" @click="onChange">
    <svg v-if="validSettings[currentSetting] === 'off'" width="27" height="27" viewBox="0 0 27 27" fill="none" xmlns="http://www.w3.org/2000/svg">
      <rect width="27" height="27" rx="5" fill="#424242" />
      <path
        d="M16.4016 7.09476C16.4014 6.93558 16.3562 6.77969 16.2714 6.645C16.1865 6.51032 16.0654 6.40232 15.9219 6.3334C15.7784 6.26448 15.6184 6.23744 15.4602 6.2554C15.302 6.27336 15.1521 6.33558 15.0278 6.43491L11.0297 9.63266H7.09597C6.8716 9.63266 6.65643 9.72179 6.49778 9.88044C6.33913 10.0391 6.25 10.2543 6.25 10.4786V17.2464C6.25 17.4707 6.33913 17.6859 6.49778 17.8446C6.65643 18.0032 6.8716 18.0923 7.09597 18.0923H11.0297L15.0278 21.2901C15.1521 21.3894 15.302 21.4516 15.4602 21.4696C15.6184 21.4876 15.7784 21.4605 15.9219 21.3916C16.0654 21.3227 16.1865 21.2147 16.2714 21.08C16.3562 20.9453 16.4014 20.7894 16.4016 20.6302V7.09476ZM11.8537 11.1385L14.7097 8.85437V18.8706L11.8537 16.5865C11.7039 16.4664 11.5178 16.4007 11.3258 16.4004H7.94193V11.3246H11.3258C11.5178 11.3243 11.7039 11.2586 11.8537 11.1385Z"
        fill="#B9B9B9"
      />
      <path
        d="M20.8348 16.0398L18.795 14L20.8348 11.9602C21.0551 11.7399 21.0551 11.3854 20.8348 11.1652C20.6146 10.9449 20.2601 10.9449 20.0398 11.1652L18 13.205L15.9602 11.1652C15.7399 10.9449 15.3854 10.9449 15.1652 11.1652C14.9449 11.3854 14.9449 11.7399 15.1652 11.9602L17.205 14L15.1652 16.0398C14.9449 16.2601 14.9449 16.6146 15.1652 16.8348C15.3854 17.0551 15.7399 17.0551 15.9602 16.8348L18 14.795L20.0398 16.8348C20.2601 17.0551 20.6146 17.0551 20.8348 16.8348C21.0535 16.6146 21.0535 16.2585 20.8348 16.0398Z"
        fill="#B9B9B9"
      />
    </svg>

    <svg v-if="validSettings[currentSetting] === 'all'" width="27" height="27" viewBox="0 0 27 27" fill="none" xmlns="http://www.w3.org/2000/svg">
      <rect width="27" height="27" rx="5" fill="#424242" />
      <path
        d="M16.4016 7.09476C16.4014 6.93558 16.3562 6.77969 16.2714 6.645C16.1865 6.51032 16.0654 6.40232 15.9219 6.3334C15.7784 6.26448 15.6184 6.23744 15.4602 6.2554C15.302 6.27336 15.1521 6.33558 15.0278 6.43491L11.0297 9.63266H7.09597C6.8716 9.63266 6.65643 9.72179 6.49778 9.88044C6.33913 10.0391 6.25 10.2543 6.25 10.4786V17.2464C6.25 17.4707 6.33913 17.6859 6.49778 17.8446C6.65643 18.0032 6.8716 18.0923 7.09597 18.0923H11.0297L15.0278 21.2901C15.1521 21.3894 15.302 21.4516 15.4602 21.4696C15.6184 21.4876 15.7784 21.4605 15.9219 21.3916C16.0654 21.3227 16.1865 21.2147 16.2714 21.08C16.3562 20.9453 16.4014 20.7894 16.4016 20.6302V7.09476ZM11.8537 11.1385L14.7097 8.85437V18.8706L11.8537 16.5865C11.7039 16.4664 11.5178 16.4007 11.3258 16.4004H7.94193V11.3246H11.3258C11.5178 11.3243 11.7039 11.2586 11.8537 11.1385ZM21.5197 13.8625C21.521 14.8625 21.3247 15.853 20.942 16.7769C20.5593 17.7008 19.9978 18.54 19.2897 19.2462L18.0935 18.05C18.6442 17.5007 19.0809 16.848 19.3786 16.1293C19.6762 15.4107 19.8288 14.6403 19.8278 13.8625C19.8287 13.0847 19.676 12.3143 19.3784 11.5957C19.0808 10.8771 18.6442 10.2243 18.0935 9.67496L19.2897 8.47877C19.9978 9.18499 20.5593 10.0242 20.942 10.9481C21.3247 11.872 21.521 12.8625 21.5197 13.8625Z"
        fill="#B9B9B9"
      />
    </svg>

    <svg v-if="validSettings[currentSetting] === 'vibro'" width="27" height="27" viewBox="0 0 27 27" fill="none" xmlns="http://www.w3.org/2000/svg">
      <rect width="27" height="27" rx="5" fill="#424242" />
      <path
        d="M16.2207 6.43533C15.6403 5.85489 14.6299 5.85489 14.0495 6.43533L6.44927 14.0355C6.16159 14.3236 6 14.714 6 15.1212C6 15.5283 6.16159 15.9187 6.44927 16.2068L10.7926 20.5501C11.0828 20.8403 11.4682 21 11.8782 21C12.2882 21 12.6736 20.8403 12.9638 20.5501L20.564 12.9499C20.8542 12.6597 21.0139 12.2742 21.0139 11.8643C21.0139 11.4543 20.8542 11.0688 20.564 10.7786L16.2207 6.43533ZM11.8782 19.4645L7.5349 15.1212L15.1351 7.52096L19.4784 11.8643L11.8782 19.4645Z"
        fill="#B9B9B9"
      />
      <path
        d="M11.2032 16.5639C11.6273 16.5639 11.971 16.2201 11.971 15.7961C11.971 15.3721 11.6273 15.0283 11.2032 15.0283C10.7792 15.0283 10.4355 15.3721 10.4355 15.7961C10.4355 16.2201 10.7792 16.5639 11.2032 16.5639Z"
        fill="#B9B9B9"
      />
      <path
        d="M16.3527 20.9456L15.2671 19.86L19.8737 15.2533L20.9593 16.3397L16.3527 20.9456ZM10.6604 6.04004L11.746 7.12567L7.1394 11.7323L6.05377 10.6459L10.6604 6.04004Z"
        fill="#B9B9B9"
      />
    </svg>
  </div>
</template>

<script setup lang="ts">
import { ref } from "vue";
import { storeToRefs } from "pinia";

// stores
import { useDataStore } from "@/store/data.ts";

const dataStore = useDataStore();

const { setSettings } = dataStore;

const validSettings = {
  1: "all",
  2: "vibro",
  3: "off",
};

const currentSetting = ref(1);

const onChange = () => {
  currentSetting.value = validSettings[currentSetting.value + 1] ? currentSetting.value + 1 : 1;

  if (currentSetting.value === 1 || currentSetting.value === 2) {
    setSettings("vibro", true);
  } else if (currentSetting.value === 3) {
    setSettings("vibro", false);
  }
};
</script>
