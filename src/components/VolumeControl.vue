<template>
  <div class="volume-control" @click="onChange">
    <div class="no-sound">
      <svg v-if="validSettings[currentSetting] === 'off'" width="31" height="21" viewBox="0 0 31 21" fill="none" xmlns="http://www.w3.org/2000/svg">
        <path
          d="M13.3415 0.115394C13.5392 0.210628 13.7061 0.359676 13.8229 0.545428C13.9397 0.731181 14.0018 0.94611 14.002 1.16554V19.8348C14.0017 20.0544 13.9394 20.2694 13.8224 20.4552C13.7053 20.6409 13.5382 20.7899 13.3403 20.885C13.1424 20.98 12.9217 21.0173 12.7035 20.9926C12.4854 20.9678 12.2786 20.882 12.107 20.745L6.59259 16.3343H1.16683C0.857368 16.3343 0.56058 16.2114 0.341757 15.9926C0.122934 15.7738 0 15.477 0 15.1675V5.83286C0 5.5234 0.122934 5.22661 0.341757 5.00779C0.56058 4.78897 0.857368 4.66603 1.16683 4.66603H6.59259L12.107 0.255414C12.2787 0.118166 12.4857 0.0322064 12.7041 0.00743432C12.9225 -0.0173377 13.1435 0.0200856 13.3415 0.115394ZM11.6683 3.59255L7.72909 6.74299C7.52254 6.9087 7.26578 6.99922 7.00098 6.99969H2.33366V14.0007H7.00098C7.26578 14.0011 7.52254 14.0917 7.72909 14.2574L11.6683 17.4078V3.59255ZM29.9969 5.00675C30.1055 5.11514 30.1918 5.2439 30.2506 5.38566C30.3094 5.52741 30.3397 5.67939 30.3397 5.83286C30.3397 5.98634 30.3094 6.13831 30.2506 6.28007C30.1918 6.42183 30.1055 6.55059 29.9969 6.65898L26.1533 10.5002L29.9969 14.3414C30.216 14.5605 30.3391 14.8577 30.3391 15.1675C30.3391 15.4774 30.216 15.7745 29.9969 15.9936C29.7778 16.2127 29.4806 16.3358 29.1708 16.3358C28.8609 16.3358 28.5637 16.2127 28.3446 15.9936L24.5034 12.1501L20.6622 15.9936C20.4431 16.2127 20.146 16.3358 19.8361 16.3358C19.5263 16.3358 19.2291 16.2127 19.01 15.9936C18.7909 15.7745 18.6678 15.4774 18.6678 15.1675C18.6678 14.8577 18.7909 14.5605 19.01 14.3414L22.8535 10.5002L19.01 6.65898C18.9015 6.55049 18.8155 6.4217 18.7567 6.27996C18.698 6.13821 18.6678 5.98629 18.6678 5.83286C18.6678 5.67944 18.698 5.52752 18.7567 5.38577C18.8155 5.24403 18.9015 5.11523 19.01 5.00675C19.2291 4.78765 19.5263 4.66456 19.8361 4.66456C19.9895 4.66456 20.1415 4.69478 20.2832 4.75349C20.425 4.8122 20.5537 4.89826 20.6622 5.00675L24.5034 8.85029L28.3446 5.00675C28.453 4.89809 28.5818 4.81187 28.7236 4.75305C28.8653 4.69423 29.0173 4.66395 29.1708 4.66395C29.3242 4.66395 29.4762 4.69423 29.618 4.75305C29.7597 4.81187 29.8885 4.89809 29.9969 5.00675Z"
          fill="var(--red-color)"
        />
      </svg>

      <svg v-if="validSettings[currentSetting] === 'all'" width="22" height="21" viewBox="0 0 22 21" fill="none" xmlns="http://www.w3.org/2000/svg">
        <path
          d="M14.0022 1.16519C14.0019 0.945625 13.9396 0.730602 13.8226 0.544834C13.7056 0.359066 13.5385 0.210091 13.3405 0.11503C13.1426 0.0199696 12.9219 -0.0173198 12.7037 0.00744852C12.4856 0.0322168 12.2788 0.118037 12.1072 0.255047L6.59271 4.66574H1.16685C0.857383 4.66574 0.56059 4.78868 0.341763 5.00751C0.122936 5.22633 0 5.52313 0 5.8326V15.1674C0 15.4769 0.122936 15.7737 0.341763 15.9925C0.56059 16.2113 0.857383 16.3343 1.16685 16.3343H6.59271L12.1072 20.745C12.2788 20.882 12.4856 20.9678 12.7037 20.9926C12.9219 21.0173 13.1426 20.98 13.3405 20.885C13.5385 20.7899 13.7056 20.6409 13.8226 20.4552C13.9396 20.2694 14.0019 20.0544 14.0022 19.8348V1.16519ZM7.72922 6.74274L11.6685 3.59224V17.4078L7.72922 14.2573C7.52268 14.0916 7.26591 14.001 7.00111 14.0006H2.3337V6.99945H7.00111C7.26591 6.99897 7.52268 6.90845 7.72922 6.74274ZM21.0617 10.5C21.0635 11.8794 20.7926 13.2455 20.2648 14.5199C19.7369 15.7942 18.9625 16.9517 17.9858 17.9258L16.3359 16.2759C17.0955 15.5182 17.6979 14.6179 18.1084 13.6267C18.5189 12.6355 18.7294 11.5729 18.728 10.5C18.7293 9.42715 18.5187 8.3646 18.1082 7.3734C17.6977 6.38219 17.0954 5.48184 16.3359 4.72409L17.9858 3.07416C18.9625 4.04826 19.7369 5.20576 20.2648 6.48014C20.7926 7.75451 21.0635 9.12063 21.0617 10.5Z"
          fill="var(--green-color)"
        />
      </svg>

      <svg v-if="validSettings[currentSetting] === 'vibro'" width="22" height="21" viewBox="0 0 22 21" fill="none" xmlns="http://www.w3.org/2000/svg">
        <path
          d="M14.309 0.609459C13.4964 -0.203153 12.0819 -0.203153 11.2693 0.609459L0.628978 11.2497C0.226222 11.653 0 12.1997 0 12.7696C0 13.3396 0.226222 13.8862 0.628978 14.2895L6.70959 20.3701C7.1159 20.7764 7.65549 21 8.22948 21C8.80347 21 9.34306 20.7764 9.74937 20.3701L20.3896 9.72985C20.7959 9.32354 21.0195 8.78395 21.0195 8.20996C21.0195 7.63597 20.7959 7.09638 20.3896 6.69007L14.309 0.609459ZM8.22948 18.8502L2.14886 12.7696L12.7891 2.12934L18.8698 8.20996L8.22948 18.8502Z"
          fill="#B9B9B9"
        />
        <path
          d="M7.2846 14.7893C7.87824 14.7893 8.35948 14.3081 8.35948 13.7144C8.35948 13.1208 7.87824 12.6395 7.2846 12.6395C6.69096 12.6395 6.20972 13.1208 6.20972 13.7144C6.20972 14.3081 6.69096 14.7893 7.2846 14.7893Z"
          fill="#B9B9B9"
        />
        <path
          d="M14.4937 20.9237L12.9738 19.4038L19.4231 12.9545L20.943 14.4755L14.4937 20.9237ZM6.5245 0.0559082L8.04438 1.57579L1.59508 8.02509L0.0751953 6.50413L6.5245 0.0559082Z"
          fill="#B9B9B9"
        />
      </svg>
    </div>
  </div>
</template>

<script setup lang="ts">
import { ref } from "vue";
import { storeToRefs } from "pinia";

// stores
import { useDataStore } from "@/store/data.ts";

const dataStore = useDataStore();

const { setSettings } = dataStore;

const validSettings = {
  1: "all",
  2: "vibro",
  3: "off",
};

const currentSetting = ref(1);

const onChange = () => {
  currentSetting.value = validSettings[currentSetting.value + 1] ? currentSetting.value + 1 : 1;

  if (currentSetting.value === 1 || currentSetting.value === 2) {
    setSettings("vibro", true);
  } else if (currentSetting.value === 3) {
    setSettings("vibro", false);
  }
};
</script>
