<template>
  <div id="change-mechanic" class="flex-1 px-[2px]">
    <div class="pill-header flex items-center justify-between">
      <span class="bg-pill-title">{{ locale["select_mechanic"] }}</span>
      <div class="nuts flex items-center gap-1">
        <img class="h-4" :src="getAsset('nut')" />
        <span class="exo-black">{{ showFormattedNumber(profile["nuts"]) }}</span>
      </div>
    </div>

    <div class="pill-grid grid grid-cols-2 gap-4 pt-4">
      <!-- yes/no -->
      <MechanicCard mechId="1" @select="onMechSelect">
        <template #image>
          <svg width="116" height="60" viewBox="0 0 116 60" fill="none" xmlns="http://www.w3.org/2000/svg">
            <rect x="14.5" y="13.5" width="36" height="36" rx="2.5" stroke="white" stroke-dasharray="2 2" />
            <path
              d="M33.6022 32.483L39.8197 26.2821C39.9425 26.139 40.0067 25.955 39.9994 25.7667C39.9921 25.5785 39.9139 25.3999 39.7803 25.2667C39.6468 25.1335 39.4677 25.0554 39.2789 25.0482C39.0902 25.0409 38.9056 25.1049 38.7622 25.2275L32.5447 31.4283L26.3272 25.22C26.1859 25.0791 25.9944 25 25.7947 25C25.5949 25 25.4034 25.0791 25.2622 25.22C25.1209 25.3608 25.0416 25.5519 25.0416 25.7511C25.0416 25.9502 25.1209 26.1413 25.2622 26.2821L31.4872 32.483L25.2622 38.6839C25.1836 38.7509 25.1199 38.8334 25.0749 38.9262C25.0298 39.019 25.0045 39.1201 25.0006 39.2231C24.9966 39.3261 25.014 39.4289 25.0517 39.5249C25.0894 39.6208 25.1466 39.708 25.2197 39.7809C25.2928 39.8538 25.3802 39.9109 25.4764 39.9485C25.5727 39.9861 25.6757 40.0034 25.7789 39.9994C25.8822 39.9955 25.9836 39.9702 26.0766 39.9253C26.1697 39.8804 26.2524 39.8168 26.3197 39.7385L32.5447 33.5377L38.7622 39.7385C38.9056 39.8611 39.0902 39.9251 39.2789 39.9178C39.4677 39.9106 39.6468 39.8325 39.7803 39.6993C39.9139 39.5661 39.9921 39.3875 39.9994 39.1993C40.0067 39.011 39.9425 38.827 39.8197 38.6839L33.6022 32.483Z"
              fill="#F02D2D"
            />
            <rect x="64.5" y="13.5" width="36" height="36" rx="2.5" stroke="white" stroke-dasharray="2 2" />
            <path d="M74.5 31.5L80 37L91.5 26" stroke="#519A58" stroke-width="1.5" stroke-linecap="round" />
          </svg>
        </template>
      </MechanicCard>

      <!-- 4 answers -->
      <MechanicCard mechId="2" @select="onMechSelect">
        <template #image>
          <svg width="116" height="60" fill="none" xmlns="http://www.w3.org/2000/svg">
            <rect x="14.5" y="35.5" width="36" height="14" rx="2.5" stroke="#fff" stroke-dasharray="2 2" />
            <rect x="64.5" y="35.5" width="36" height="14" rx="2.5" stroke="#fff" stroke-dasharray="2 2" />
            <rect x="14.5" y="13.5" width="36" height="14" rx="2.5" stroke="#fff" stroke-dasharray="2 2" />
            <rect x="64.5" y="13.5" width="36" height="14" rx="2.5" stroke="#fff" stroke-dasharray="2 2" />
            <path
              d="M21.848 19.006c.216 0 .398.03.546.09a.626.626 0 0 1 .342.288c.076.136.114.322.114.558V22h-.402l-.078-.636-.036-.066v-1.356c0-.18-.042-.308-.126-.384-.08-.08-.236-.12-.468-.12a8.66 8.66 0 0 0-.576.024 35.82 35.82 0 0 0-.678.054l-.048-.378a8.96 8.96 0 0 1 1.41-.132Zm.762 1.194-.006.384-1.398.006c-.14.004-.238.042-.294.114a.441.441 0 0 0-.084.288v.186c0 .152.036.264.108.336.072.068.188.102.348.102.112 0 .238-.02.378-.06.144-.044.288-.11.432-.198.144-.088.276-.2.396-.336v.378a1.694 1.694 0 0 1-.192.198 1.936 1.936 0 0 1-.672.39 1.435 1.435 0 0 1-.444.066c-.172 0-.324-.03-.456-.09a.746.746 0 0 1-.312-.276.882.882 0 0 1-.108-.45v-.318c0-.228.07-.404.21-.528.144-.128.344-.192.6-.192h1.494Zm2.927-1.194c.528 0 .792.268.792.804V22h-.51v-2.046c0-.196-.032-.33-.096-.402-.064-.076-.172-.114-.324-.114-.18 0-.36.044-.54.132a7.94 7.94 0 0 0-.642.36l-.024-.366c.228-.176.454-.312.678-.408.224-.1.446-.15.666-.15Zm-1.344.072.042.558.036.09V22h-.51v-2.922h.432Zm4.026-.072c.128 0 .264.004.408.012.144.008.286.018.426.03.144.012.276.028.396.048l-.042.372c-.184-.008-.37-.014-.558-.018a12.707 12.707 0 0 0-.552-.012c-.18-.004-.322 0-.426.012-.104.012-.18.044-.228.096-.044.052-.066.14-.066.264 0 .152.036.252.108.3a.98.98 0 0 0 .318.12l.852.192c.232.056.402.142.51.258.112.116.168.298.168.546 0 .24-.046.42-.138.54a.654.654 0 0 1-.408.24c-.184.04-.418.06-.702.06-.104 0-.26-.004-.468-.012a5.692 5.692 0 0 1-.678-.072l.036-.372c.096.004.198.01.306.018.108.004.22.006.336.006h.366c.22 0 .392-.01.516-.03.124-.02.212-.058.264-.114.052-.06.078-.148.078-.264 0-.144-.042-.24-.126-.288a1.246 1.246 0 0 0-.336-.12l-.84-.192a1.235 1.235 0 0 1-.384-.156.597.597 0 0 1-.21-.258 1.07 1.07 0 0 1-.066-.402c0-.228.04-.4.12-.516a.598.598 0 0 1 .372-.234 2.7 2.7 0 0 1 .648-.054Zm6.401.072-.852 2.778a.2.2 0 0 1-.072.108.222.222 0 0 1-.126.036h-.462a.225.225 0 0 1-.132-.042.2.2 0 0 1-.066-.12l-.48-1.986-.048-.228a2.705 2.705 0 0 0-.048-.234h-.072c-.016.08-.034.158-.054.234l-.048.228-.474 1.986a.232.232 0 0 1-.072.12.208.208 0 0 1-.132.042h-.456a.222.222 0 0 1-.126-.036.2.2 0 0 1-.072-.108l-.852-2.778h.528l.606 2.154a4.111 4.111 0 0 1 .096.438h.078c.02-.072.038-.144.054-.216.02-.076.038-.15.054-.222l.486-1.992a.187.187 0 0 1 .192-.162h.462c.048 0 .088.016.12.048.036.028.06.068.072.12l.48 1.986.048.216c.02.072.038.146.054.222h.078c.02-.076.036-.148.048-.216.012-.072.03-.146.054-.222l.606-2.154h.528Zm1.802-.072c.44 0 .758.08.954.24.2.16.3.398.3.714.004.26-.05.464-.162.612-.112.144-.29.216-.534.216h-1.704v-.396h1.572c.132 0 .218-.044.258-.132a.744.744 0 0 0 .06-.3c-.004-.188-.06-.322-.168-.402-.108-.08-.292-.12-.552-.12-.212 0-.38.032-.504.096a.526.526 0 0 0-.258.324c-.048.152-.072.366-.072.642 0 .312.03.55.09.714a.572.572 0 0 0 .3.336c.136.06.316.09.54.09.156 0 .326-.006.51-.018.188-.016.356-.034.504-.054l.054.342a1.82 1.82 0 0 1-.342.09 4.32 4.32 0 0 1-.414.054c-.14.012-.266.018-.378.018-.336 0-.606-.05-.81-.15a.952.952 0 0 1-.45-.492c-.092-.228-.138-.528-.138-.9 0-.384.046-.686.138-.906a.881.881 0 0 1 .438-.474c.2-.096.456-.144.768-.144Zm2.419.072.066.558.048.09V22h-.51v-2.922h.396Zm1.434-.072-.06.48h-.168c-.172 0-.344.036-.516.108a7.176 7.176 0 0 0-.63.294l-.042-.318c.216-.176.432-.314.648-.414.22-.1.432-.15.636-.15h.132Zm3.033-1.146V22h-.528v-3.282c0-.06.002-.12.006-.18s.012-.12.024-.18l-1.014.318-.072-.39 1.056-.426h.528Zm-21.46 23.146c.216 0 .398.03.546.09a.626.626 0 0 1 .342.288c.076.136.114.322.114.558V44h-.402l-.078-.636-.036-.066v-1.356c0-.18-.042-.308-.126-.384-.08-.08-.236-.12-.468-.12a8.66 8.66 0 0 0-.576.024 35.82 35.82 0 0 0-.678.054l-.048-.378a8.96 8.96 0 0 1 1.41-.132Zm.762 1.194-.006.384-1.398.006c-.14.004-.238.042-.294.114a.441.441 0 0 0-.084.288v.186c0 .152.036.264.108.336.072.068.188.102.348.102.112 0 .238-.02.378-.06.144-.044.288-.11.432-.198.144-.088.276-.2.396-.336v.378a1.694 1.694 0 0 1-.192.198 1.936 1.936 0 0 1-.672.39 1.435 1.435 0 0 1-.444.066c-.172 0-.324-.03-.456-.09a.746.746 0 0 1-.312-.276.882.882 0 0 1-.108-.45v-.318c0-.228.07-.404.21-.528.144-.128.344-.192.6-.192h1.494Zm2.927-1.194c.528 0 .792.268.792.804V44h-.51v-2.046c0-.196-.032-.33-.096-.402-.064-.076-.172-.114-.324-.114-.18 0-.36.044-.54.132a7.94 7.94 0 0 0-.642.36l-.024-.366c.228-.176.454-.312.678-.408.224-.1.446-.15.666-.15Zm-1.344.072.042.558.036.09V44h-.51v-2.922h.432Zm4.026-.072c.128 0 .264.004.408.012.144.008.286.018.426.03.144.012.276.028.396.048l-.042.372c-.184-.008-.37-.014-.558-.018a12.707 12.707 0 0 0-.552-.012c-.18-.004-.322 0-.426.012-.104.012-.18.044-.228.096-.044.052-.066.14-.066.264 0 .152.036.252.108.3a.98.98 0 0 0 .318.12l.852.192c.232.056.402.142.51.258.112.116.168.298.168.546 0 .24-.046.42-.138.54a.654.654 0 0 1-.408.24c-.184.04-.418.06-.702.06-.104 0-.26-.004-.468-.012a5.692 5.692 0 0 1-.678-.072l.036-.372c.096.004.198.01.306.018.108.004.22.006.336.006h.366c.22 0 .392-.01.516-.03.124-.02.212-.058.264-.114.052-.06.078-.148.078-.264 0-.144-.042-.24-.126-.288a1.246 1.246 0 0 0-.336-.12l-.84-.192a1.235 1.235 0 0 1-.384-.156.597.597 0 0 1-.21-.258 1.07 1.07 0 0 1-.066-.402c0-.228.04-.4.12-.516a.598.598 0 0 1 .372-.234 2.7 2.7 0 0 1 .648-.054Zm6.401.072-.852 2.778a.2.2 0 0 1-.072.108.222.222 0 0 1-.126.036h-.462a.225.225 0 0 1-.132-.042.2.2 0 0 1-.066-.12l-.48-1.986-.048-.228a2.705 2.705 0 0 0-.048-.234h-.072c-.016.08-.034.158-.054.234l-.048.228-.474 1.986a.232.232 0 0 1-.072.12.208.208 0 0 1-.132.042h-.456a.222.222 0 0 1-.126-.036.2.2 0 0 1-.072-.108l-.852-2.778h.528l.606 2.154a4.111 4.111 0 0 1 .096.438h.078c.02-.072.038-.144.054-.216.02-.076.038-.15.054-.222l.486-1.992a.187.187 0 0 1 .192-.162h.462c.048 0 .088.016.12.048.036.028.06.068.072.12l.48 1.986.048.216c.02.072.038.146.054.222h.078c.02-.076.036-.148.048-.216.012-.072.03-.146.054-.222l.606-2.154h.528Zm1.802-.072c.44 0 .758.08.954.24.2.16.3.398.3.714.004.26-.05.464-.162.612-.112.144-.29.216-.534.216h-1.704v-.396h1.572c.132 0 .218-.044.258-.132a.744.744 0 0 0 .06-.3c-.004-.188-.06-.322-.168-.402-.108-.08-.292-.12-.552-.12-.212 0-.38.032-.504.096a.526.526 0 0 0-.258.324c-.048.152-.072.366-.072.642 0 .312.03.55.09.714a.572.572 0 0 0 .3.336c.136.06.316.09.54.09.156 0 .326-.006.51-.018.188-.016.356-.034.504-.054l.054.342a1.82 1.82 0 0 1-.342.09 4.32 4.32 0 0 1-.414.054c-.14.012-.266.018-.378.018-.336 0-.606-.05-.81-.15a.952.952 0 0 1-.45-.492c-.092-.228-.138-.528-.138-.9 0-.384.046-.686.138-.906a.881.881 0 0 1 .438-.474c.2-.096.456-.144.768-.144Zm2.419.072.066.558.048.09V44h-.51v-2.922h.396Zm1.434-.072-.06.48h-.168c-.172 0-.344.036-.516.108a7.176 7.176 0 0 0-.63.294l-.042-.318c.216-.176.432-.314.648-.414.22-.1.432-.15.636-.15h.132Zm3.297-1.146-1.158 2.448c-.036.08-.038.142-.006.186.036.04.088.06.156.06h2.454v.378l-.552.054H42.27a.423.423 0 0 1-.282-.096.45.45 0 0 1-.114-.546l1.176-2.484h.522Zm.912.792V44h-.498v-2.664l.09-.684h.408Zm28.364-21.646c.216 0 .398.03.546.09a.626.626 0 0 1 .342.288c.076.136.114.322.114.558V22h-.402l-.078-.636-.036-.066v-1.356c0-.18-.042-.308-.126-.384-.08-.08-.236-.12-.468-.12a8.66 8.66 0 0 0-.576.024 35.82 35.82 0 0 0-.678.054l-.048-.378a8.96 8.96 0 0 1 1.41-.132Zm.762 1.194-.006.384-1.398.006c-.14.004-.238.042-.294.114a.441.441 0 0 0-.084.288v.186c0 .152.036.264.108.336.072.068.188.102.348.102.112 0 .238-.02.378-.06.144-.044.288-.11.432-.198.144-.088.276-.2.396-.336v.378a1.694 1.694 0 0 1-.192.198 1.936 1.936 0 0 1-.672.39 1.435 1.435 0 0 1-.444.066c-.172 0-.324-.03-.456-.09a.746.746 0 0 1-.312-.276.882.882 0 0 1-.108-.45v-.318c0-.228.07-.404.21-.528.144-.128.344-.192.6-.192h1.494Zm2.927-1.194c.528 0 .792.268.792.804V22h-.51v-2.046c0-.196-.032-.33-.096-.402-.064-.076-.172-.114-.324-.114-.18 0-.36.044-.54.132a7.94 7.94 0 0 0-.642.36l-.024-.366c.228-.176.454-.312.678-.408.224-.1.446-.15.666-.15Zm-1.344.072.042.558.036.09V22h-.51v-2.922h.432Zm4.026-.072c.128 0 .264.004.408.012.144.008.286.018.426.03.144.012.276.028.396.048l-.042.372c-.184-.008-.37-.014-.558-.018a12.707 12.707 0 0 0-.552-.012c-.18-.004-.322 0-.426.012-.104.012-.18.044-.228.096-.044.052-.066.14-.066.264 0 .152.036.252.108.3a.98.98 0 0 0 .318.12l.852.192c.232.056.402.142.51.258.112.116.168.298.168.546 0 .24-.046.42-.138.54a.654.654 0 0 1-.408.24c-.184.04-.418.06-.702.06-.104 0-.26-.004-.468-.012a5.692 5.692 0 0 1-.678-.072l.036-.372c.096.004.198.01.306.018.108.004.22.006.336.006h.366c.22 0 .392-.01.516-.03.124-.02.212-.058.264-.114.052-.06.078-.148.078-.264 0-.144-.042-.24-.126-.288a1.246 1.246 0 0 0-.336-.12l-.84-.192a1.235 1.235 0 0 1-.384-.156.597.597 0 0 1-.21-.258 1.07 1.07 0 0 1-.066-.402c0-.228.04-.4.12-.516a.598.598 0 0 1 .372-.234 2.7 2.7 0 0 1 .648-.054Zm6.401.072-.852 2.778a.2.2 0 0 1-.072.108.222.222 0 0 1-.126.036h-.462a.225.225 0 0 1-.132-.042.2.2 0 0 1-.066-.12l-.48-1.986-.048-.228a2.705 2.705 0 0 0-.048-.234h-.072c-.016.08-.034.158-.054.234l-.048.228-.474 1.986a.232.232 0 0 1-.072.12.208.208 0 0 1-.132.042h-.456a.222.222 0 0 1-.126-.036.2.2 0 0 1-.072-.108l-.852-2.778h.528l.606 2.154a4.111 4.111 0 0 1 .096.438h.078c.02-.072.038-.144.054-.216.02-.076.038-.15.054-.222l.486-1.992a.187.187 0 0 1 .192-.162h.462c.048 0 .088.016.12.048.036.028.06.068.072.12l.48 1.986.048.216c.02.072.038.146.054.222h.078c.02-.076.036-.148.048-.216.012-.072.03-.146.054-.222l.606-2.154h.528Zm1.802-.072c.44 0 .758.08.954.24.2.16.3.398.3.714.004.26-.05.464-.162.612-.112.144-.29.216-.534.216h-1.704v-.396h1.572c.132 0 .218-.044.258-.132a.744.744 0 0 0 .06-.3c-.004-.188-.06-.322-.168-.402-.108-.08-.292-.12-.552-.12-.212 0-.38.032-.504.096a.526.526 0 0 0-.258.324c-.048.152-.072.366-.072.642 0 .312.03.55.09.714a.572.572 0 0 0 .3.336c.136.06.316.09.54.09.156 0 .326-.006.51-.018.188-.016.356-.034.504-.054l.054.342a1.82 1.82 0 0 1-.342.09 4.32 4.32 0 0 1-.414.054c-.14.012-.266.018-.378.018-.336 0-.606-.05-.81-.15a.952.952 0 0 1-.45-.492c-.092-.228-.138-.528-.138-.9 0-.384.046-.686.138-.906a.881.881 0 0 1 .438-.474c.2-.096.456-.144.768-.144Zm2.419.072.066.558.048.09V22h-.51v-2.922h.396Zm1.434-.072-.06.48h-.168c-.172 0-.344.036-.516.108a7.176 7.176 0 0 0-.63.294l-.042-.318c.216-.176.432-.314.648-.414.22-.1.432-.15.636-.15h.132Zm2.943-1.218c.264 0 .49.022.678.066.192.044.338.13.438.258.104.128.156.318.156.57 0 .172-.024.334-.072.486-.044.152-.12.31-.228.474a5.11 5.11 0 0 1-.438.546l-1.188 1.326a7.829 7.829 0 0 1 .672-.024h1.404V22h-2.718v-.33c0-.044.006-.084.018-.12a.288.288 0 0 1 .06-.108l1.2-1.356c.264-.284.458-.536.582-.756.124-.22.182-.428.174-.624-.004-.136-.038-.234-.102-.294a.456.456 0 0 0-.264-.126 2.365 2.365 0 0 0-.408-.03c-.128 0-.25.002-.366.006-.116.004-.24.014-.372.03a6.802 6.802 0 0 0-.45.06l-.036-.408a5.8 5.8 0 0 1 .492-.096 4.074 4.074 0 0 1 .768-.06Zm-22.37 23.218c.216 0 .398.03.546.09a.626.626 0 0 1 .342.288c.076.136.114.322.114.558V44h-.402l-.078-.636-.036-.066v-1.356c0-.18-.042-.308-.126-.384-.08-.08-.236-.12-.468-.12a8.66 8.66 0 0 0-.576.024 35.82 35.82 0 0 0-.678.054l-.048-.378a8.96 8.96 0 0 1 1.41-.132Zm.762 1.194-.006.384-1.398.006c-.14.004-.238.042-.294.114a.441.441 0 0 0-.084.288v.186c0 .152.036.264.108.336.072.068.188.102.348.102.112 0 .238-.02.378-.06.144-.044.288-.11.432-.198.144-.088.276-.2.396-.336v.378a1.694 1.694 0 0 1-.192.198 1.936 1.936 0 0 1-.672.39 1.435 1.435 0 0 1-.444.066c-.172 0-.324-.03-.456-.09a.746.746 0 0 1-.312-.276.882.882 0 0 1-.108-.45v-.318c0-.228.07-.404.21-.528.144-.128.344-.192.6-.192h1.494Zm2.927-1.194c.528 0 .792.268.792.804V44h-.51v-2.046c0-.196-.032-.33-.096-.402-.064-.076-.172-.114-.324-.114-.18 0-.36.044-.54.132a7.94 7.94 0 0 0-.642.36l-.024-.366c.228-.176.454-.312.678-.408.224-.1.446-.15.666-.15Zm-1.344.072.042.558.036.09V44h-.51v-2.922h.432Zm4.026-.072c.128 0 .264.004.408.012.144.008.286.018.426.03.144.012.276.028.396.048l-.042.372c-.184-.008-.37-.014-.558-.018a12.707 12.707 0 0 0-.552-.012c-.18-.004-.322 0-.426.012-.104.012-.18.044-.228.096-.044.052-.066.14-.066.264 0 .152.036.252.108.3a.98.98 0 0 0 .318.12l.852.192c.232.056.402.142.51.258.112.116.168.298.168.546 0 .24-.046.42-.138.54a.654.654 0 0 1-.408.24c-.184.04-.418.06-.702.06-.104 0-.26-.004-.468-.012a5.692 5.692 0 0 1-.678-.072l.036-.372c.096.004.198.01.306.018.108.004.22.006.336.006h.366c.22 0 .392-.01.516-.03.124-.02.212-.058.264-.114.052-.06.078-.148.078-.264 0-.144-.042-.24-.126-.288a1.246 1.246 0 0 0-.336-.12l-.84-.192a1.235 1.235 0 0 1-.384-.156.597.597 0 0 1-.21-.258 1.07 1.07 0 0 1-.066-.402c0-.228.04-.4.12-.516a.598.598 0 0 1 .372-.234 2.7 2.7 0 0 1 .648-.054Zm6.401.072-.852 2.778a.2.2 0 0 1-.072.108.222.222 0 0 1-.126.036h-.462a.225.225 0 0 1-.132-.042.2.2 0 0 1-.066-.12l-.48-1.986-.048-.228a2.705 2.705 0 0 0-.048-.234h-.072c-.016.08-.034.158-.054.234l-.048.228-.474 1.986a.232.232 0 0 1-.072.12.208.208 0 0 1-.132.042h-.456a.222.222 0 0 1-.126-.036.2.2 0 0 1-.072-.108l-.852-2.778h.528l.606 2.154a4.111 4.111 0 0 1 .096.438h.078c.02-.072.038-.144.054-.216.02-.076.038-.15.054-.222l.486-1.992a.187.187 0 0 1 .192-.162h.462c.048 0 .088.016.12.048.036.028.06.068.072.12l.48 1.986.048.216c.02.072.038.146.054.222h.078c.02-.076.036-.148.048-.216.012-.072.03-.146.054-.222l.606-2.154h.528Zm1.802-.072c.44 0 .758.08.954.24.2.16.3.398.3.714.004.26-.05.464-.162.612-.112.144-.29.216-.534.216h-1.704v-.396h1.572c.132 0 .218-.044.258-.132a.744.744 0 0 0 .06-.3c-.004-.188-.06-.322-.168-.402-.108-.08-.292-.12-.552-.12-.212 0-.38.032-.504.096a.526.526 0 0 0-.258.324c-.048.152-.072.366-.072.642 0 .312.03.55.09.714a.572.572 0 0 0 .3.336c.136.06.316.09.54.09.156 0 .326-.006.51-.018.188-.016.356-.034.504-.054l.054.342a1.82 1.82 0 0 1-.342.09 4.32 4.32 0 0 1-.414.054c-.14.012-.266.018-.378.018-.336 0-.606-.05-.81-.15a.952.952 0 0 1-.45-.492c-.092-.228-.138-.528-.138-.9 0-.384.046-.686.138-.906a.881.881 0 0 1 .438-.474c.2-.096.456-.144.768-.144Zm2.419.072.066.558.048.09V44h-.51v-2.922h.396Zm1.434-.072-.06.48h-.168c-.172 0-.344.036-.516.108a7.176 7.176 0 0 0-.63.294l-.042-.318c.216-.176.432-.314.648-.414.22-.1.432-.15.636-.15h.132Zm2.865-1.224c.304 0 .548.03.732.09a.702.702 0 0 1 .414.294c.088.14.132.332.132.576 0 .176-.018.338-.054.486a.86.86 0 0 1-.186.366.634.634 0 0 1-.366.192v.024c.272.044.458.158.558.342.104.18.158.412.162.696.004.28-.036.512-.12.696a.812.812 0 0 1-.414.402c-.192.088-.452.132-.78.132-.22 0-.442-.012-.666-.036a16.04 16.04 0 0 1-.648-.072l.036-.426.39.036a12.545 12.545 0 0 0 .756.024c.224 0 .402-.024.534-.072a.522.522 0 0 0 .294-.258c.064-.12.096-.28.096-.48a1.08 1.08 0 0 0-.066-.396.478.478 0 0 0-.24-.27c-.116-.064-.288-.096-.516-.096h-.768v-.414h.768a.951.951 0 0 0 .39-.066c.1-.044.174-.1.222-.168a.564.564 0 0 0 .09-.24c.016-.092.024-.186.024-.282-.004-.176-.032-.306-.084-.39a.387.387 0 0 0-.264-.174 2.023 2.023 0 0 0-.498-.048c-.196 0-.386.006-.57.018-.18.008-.34.018-.48.03l-.042-.408c.204-.036.4-.062.588-.078.192-.02.384-.03.576-.03Z"
              fill="#C6C6C6"
            />
          </svg>
        </template>
      </MechanicCard>

      <!-- bubble pairs -->
      <MechanicCard mechId="3" @select="onMechSelect">
        <template #image>
          <svg width="116" height="66" fill="none" xmlns="http://www.w3.org/2000/svg">
            <circle cx="43" cy="21" r="11.5" stroke="#fff" stroke-dasharray="2 2" />
            <circle cx="43" cy="48" r="11.5" stroke="#fff" stroke-dasharray="2 2" />
            <circle cx="70" cy="21" r="11.5" stroke="#fff" stroke-dasharray="2 2" />
            <circle cx="70" cy="48" r="11.5" stroke="#fff" stroke-dasharray="2 2" />
            <path
              d="M41.02 16.564c.6 0 1.108.072 1.524.216.424.144.76.384 1.008.72.256.328.44.768.552 1.32.12.552.18 1.232.18 2.04s-.06 1.488-.18 2.04c-.112.552-.296.996-.552 1.332a2.055 2.055 0 0 1-1.008.708c-.416.144-.924.216-1.524.216-.608 0-1.12-.072-1.536-.216a2.13 2.13 0 0 1-1.008-.708c-.256-.336-.444-.78-.564-1.332-.112-.552-.168-1.232-.168-2.04s.056-1.488.168-2.04c.12-.552.308-.992.564-1.32a2.099 2.099 0 0 1 1.008-.72c.416-.144.928-.216 1.536-.216Zm-.492 8.952c.472.2.972.368 1.5.504s1.088.248 1.68.336l-.336 1.056a8.29 8.29 0 0 1-1.716-.54c-.52-.224-.996-.464-1.428-.72l.3-.636Zm.492-8.004c-.544 0-.976.104-1.296.312-.312.208-.536.556-.672 1.044-.128.48-.192 1.144-.192 1.992 0 .84.064 1.504.192 1.992.136.488.36.836.672 1.044.32.208.752.312 1.296.312s.972-.104 1.284-.312c.312-.208.536-.556.672-1.044s.204-1.152.204-1.992c0-.848-.068-1.512-.204-1.992-.136-.488-.36-.836-.672-1.044-.312-.208-.74-.312-1.284-.312Zm7.44-.792V25h-1.057v-6.564c0-.12.004-.24.012-.36s.024-.24.048-.36l-2.028.636-.144-.78 2.112-.852h1.056Z"
              fill="#D26542"
            />
            <path
              d="M41.284 43.72c.096 0 .18.028.252.084.072.048.12.116.144.204L44.344 52h-1.092l-2.148-6.792a5.453 5.453 0 0 0-.108-.336 9.251 9.251 0 0 0-.096-.336h-.336a9.251 9.251 0 0 0-.096.336 5.453 5.453 0 0 1-.108.336L38.212 52H37.12l2.664-7.992a.345.345 0 0 1 .144-.204.399.399 0 0 1 .252-.084h1.104Zm1.536 4.776v.912h-4.2v-.912h4.2Zm4.69-4.776V52h-1.056v-6.564c0-.12.004-.24.012-.36s.024-.24.048-.36l-2.028.636-.144-.78 2.112-.852h1.056Z"
              fill="#519A58"
            />
            <path
              d="M67.02 16.564c.6 0 1.108.072 1.524.216.424.144.76.384 1.008.72.256.328.44.768.552 1.32.12.552.18 1.232.18 2.04s-.06 1.488-.18 2.04c-.112.552-.296.996-.552 1.332a2.055 2.055 0 0 1-1.008.708c-.416.144-.924.216-1.524.216-.608 0-1.12-.072-1.536-.216a2.13 2.13 0 0 1-1.008-.708c-.256-.336-.444-.78-.564-1.332-.112-.552-.168-1.232-.168-2.04s.056-1.488.168-2.04c.12-.552.308-.992.564-1.32a2.099 2.099 0 0 1 1.008-.72c.416-.144.928-.216 1.536-.216Zm-.492 8.952c.472.2.972.368 1.5.504s1.088.248 1.68.336l-.336 1.056a8.29 8.29 0 0 1-1.716-.54c-.52-.224-.996-.464-1.428-.72l.3-.636Zm.492-8.004c-.544 0-.976.104-1.296.312-.312.208-.536.556-.672 1.044-.128.48-.192 1.144-.192 1.992 0 .84.064 1.504.192 1.992.136.488.36.836.672 1.044.32.208.752.312 1.296.312s.972-.104 1.284-.312c.312-.208.536-.556.672-1.044s.204-1.152.204-1.992c0-.848-.068-1.512-.204-1.992-.136-.488-.36-.836-.672-1.044-.312-.208-.74-.312-1.284-.312Zm7.26-.936c.527 0 .98.044 1.355.132.384.088.676.26.876.516.208.256.312.636.312 1.14 0 .344-.048.668-.144.972-.088.304-.24.62-.456.948-.216.32-.508.684-.876 1.092l-2.376 2.652c.208-.016.428-.028.66-.036.24-.008.468-.012.684-.012h2.808V25h-5.436v-.66c0-.088.012-.168.036-.24a.576.576 0 0 1 .12-.216l2.4-2.712c.528-.568.916-1.072 1.164-1.512.248-.44.364-.856.348-1.248-.008-.272-.076-.468-.204-.588-.12-.128-.296-.212-.528-.252a4.73 4.73 0 0 0-.816-.06c-.256 0-.5.004-.732.012-.232.008-.48.028-.744.06-.256.024-.556.064-.9.12l-.072-.816c.376-.088.704-.152.984-.192.288-.048.552-.08.792-.096.248-.016.496-.024.744-.024Z"
              fill="#D26542"
            />
            <path
              d="M67.284 43.72c.096 0 .18.028.252.084.072.048.12.116.144.204L70.344 52h-1.092l-2.148-6.792a5.453 5.453 0 0 0-.108-.336 9.251 9.251 0 0 0-.096-.336h-.336a9.251 9.251 0 0 0-.096.336 5.453 5.453 0 0 1-.108.336L64.212 52H63.12l2.664-7.992a.345.345 0 0 1 .144-.204.399.399 0 0 1 .252-.084h1.104Zm1.536 4.776v.912h-4.2v-.912h4.2Zm4.897-4.92c.528 0 .98.044 1.356.132.384.088.676.26.876.516.208.256.312.636.312 1.14 0 .344-.048.668-.144.972-.088.304-.24.62-.456.948-.216.32-.508.684-.876 1.092l-2.376 2.652c.208-.016.428-.028.66-.036.24-.008.468-.012.684-.012h2.808V52h-5.436v-.66c0-.088.012-.168.036-.24a.576.576 0 0 1 .12-.216l2.4-2.712c.528-.568.916-1.072 1.164-1.512.248-.44.364-.856.348-1.248-.008-.272-.076-.468-.204-.588-.12-.128-.296-.212-.528-.252a4.73 4.73 0 0 0-.816-.06c-.256 0-.5.004-.732.012-.232.008-.48.028-.744.06-.256.024-.556.064-.9.12l-.072-.816c.376-.088.704-.152.984-.192.288-.048.552-.08.792-.096.248-.016.496-.024.744-.024Z"
              fill="#519A58"
            />
          </svg>
        </template>
      </MechanicCard>

      <!-- audio question -->
      <MechanicCard mechId="4" @select="onMechSelect">
        <template #image>
          <svg width="116" height="60" fill="none" xmlns="http://www.w3.org/2000/svg">
            <rect x="14.5" y="39.5" width="36" height="14" rx="2.5" stroke="#fff" stroke-dasharray="2 2" />
            <path
              d="M21.848 45.006c.216 0 .398.03.546.09a.626.626 0 0 1 .342.288c.076.136.114.322.114.558V48h-.402l-.078-.636-.036-.066v-1.356c0-.18-.042-.308-.126-.384-.08-.08-.236-.12-.468-.12a8.66 8.66 0 0 0-.576.024 35.82 35.82 0 0 0-.678.054l-.048-.378a8.96 8.96 0 0 1 1.41-.132Zm.762 1.194-.006.384-1.398.006c-.14.004-.238.042-.294.114a.441.441 0 0 0-.084.288v.186c0 .152.036.264.108.336.072.068.188.102.348.102.112 0 .238-.02.378-.06.144-.044.288-.11.432-.198.144-.088.276-.2.396-.336v.378a1.694 1.694 0 0 1-.192.198 1.936 1.936 0 0 1-.672.39 1.435 1.435 0 0 1-.444.066c-.172 0-.324-.03-.456-.09a.746.746 0 0 1-.312-.276.882.882 0 0 1-.108-.45v-.318c0-.228.07-.404.21-.528.144-.128.344-.192.6-.192h1.494Zm2.927-1.194c.528 0 .792.268.792.804V48h-.51v-2.046c0-.196-.032-.33-.096-.402-.064-.076-.172-.114-.324-.114-.18 0-.36.044-.54.132a7.94 7.94 0 0 0-.642.36l-.024-.366c.228-.176.454-.312.678-.408.224-.1.446-.15.666-.15Zm-1.344.072.042.558.036.09V48h-.51v-2.922h.432Zm4.026-.072c.128 0 .264.004.408.012.144.008.286.018.426.03.144.012.276.028.396.048l-.042.372c-.184-.008-.37-.014-.558-.018a12.707 12.707 0 0 0-.552-.012c-.18-.004-.322 0-.426.012-.104.012-.18.044-.228.096-.044.052-.066.14-.066.264 0 .152.036.252.108.3a.98.98 0 0 0 .318.12l.852.192c.232.056.402.142.51.258.112.116.168.298.168.546 0 .24-.046.42-.138.54a.654.654 0 0 1-.408.24c-.184.04-.418.06-.702.06-.104 0-.26-.004-.468-.012a5.692 5.692 0 0 1-.678-.072l.036-.372c.096.004.198.01.306.018.108.004.22.006.336.006h.366c.22 0 .392-.01.516-.03.124-.02.212-.058.264-.114.052-.06.078-.148.078-.264 0-.144-.042-.24-.126-.288a1.246 1.246 0 0 0-.336-.12l-.84-.192a1.235 1.235 0 0 1-.384-.156.597.597 0 0 1-.21-.258 1.07 1.07 0 0 1-.066-.402c0-.228.04-.4.12-.516a.598.598 0 0 1 .372-.234 2.7 2.7 0 0 1 .648-.054Zm6.401.072-.852 2.778a.2.2 0 0 1-.072.108.222.222 0 0 1-.126.036h-.462a.225.225 0 0 1-.132-.042.2.2 0 0 1-.066-.12l-.48-1.986-.048-.228a2.705 2.705 0 0 0-.048-.234h-.072c-.016.08-.034.158-.054.234l-.048.228-.474 1.986a.232.232 0 0 1-.072.12.208.208 0 0 1-.132.042h-.456a.222.222 0 0 1-.126-.036.2.2 0 0 1-.072-.108l-.852-2.778h.528l.606 2.154a4.111 4.111 0 0 1 .096.438h.078c.02-.072.038-.144.054-.216.02-.076.038-.15.054-.222l.486-1.992a.187.187 0 0 1 .192-.162h.462c.048 0 .088.016.12.048.036.028.06.068.072.12l.48 1.986.048.216c.02.072.038.146.054.222h.078c.02-.076.036-.148.048-.216.012-.072.03-.146.054-.222l.606-2.154h.528Zm1.802-.072c.44 0 .758.08.954.24.2.16.3.398.3.714.004.26-.05.464-.162.612-.112.144-.29.216-.534.216h-1.704v-.396h1.572c.132 0 .218-.044.258-.132a.744.744 0 0 0 .06-.3c-.004-.188-.06-.322-.168-.402-.108-.08-.292-.12-.552-.12-.212 0-.38.032-.504.096a.526.526 0 0 0-.258.324c-.048.152-.072.366-.072.642 0 .312.03.55.09.714a.572.572 0 0 0 .3.336c.136.06.316.09.54.09.156 0 .326-.006.51-.018.188-.016.356-.034.504-.054l.054.342a1.82 1.82 0 0 1-.342.09 4.32 4.32 0 0 1-.414.054c-.14.012-.266.018-.378.018-.336 0-.606-.05-.81-.15a.952.952 0 0 1-.45-.492c-.092-.228-.138-.528-.138-.9 0-.384.046-.686.138-.906a.881.881 0 0 1 .438-.474c.2-.096.456-.144.768-.144Zm2.419.072.066.558.048.09V48h-.51v-2.922h.396Zm1.434-.072-.06.48h-.168c-.172 0-.344.036-.516.108a7.176 7.176 0 0 0-.63.294l-.042-.318c.216-.176.432-.314.648-.414.22-.1.432-.15.636-.15h.132Zm3.033-1.146V48h-.528v-3.282c0-.06.002-.12.006-.18s.012-.12.024-.18l-1.014.318-.072-.39 1.056-.426h.528Z"
              fill="#C6C6C6"
            />
            <rect x="64.5" y="39.5" width="36" height="14" rx="2.5" stroke="#fff" stroke-dasharray="2 2" />
            <path
              d="M71.848 45.006c.216 0 .398.03.546.09a.626.626 0 0 1 .342.288c.076.136.114.322.114.558V48h-.402l-.078-.636-.036-.066v-1.356c0-.18-.042-.308-.126-.384-.08-.08-.236-.12-.468-.12a8.66 8.66 0 0 0-.576.024 35.82 35.82 0 0 0-.678.054l-.048-.378a8.96 8.96 0 0 1 1.41-.132Zm.762 1.194-.006.384-1.398.006c-.14.004-.238.042-.294.114a.441.441 0 0 0-.084.288v.186c0 .152.036.264.108.336.072.068.188.102.348.102.112 0 .238-.02.378-.06.144-.044.288-.11.432-.198.144-.088.276-.2.396-.336v.378a1.694 1.694 0 0 1-.192.198 1.936 1.936 0 0 1-.672.39 1.435 1.435 0 0 1-.444.066c-.172 0-.324-.03-.456-.09a.746.746 0 0 1-.312-.276.882.882 0 0 1-.108-.45v-.318c0-.228.07-.404.21-.528.144-.128.344-.192.6-.192h1.494Zm2.927-1.194c.528 0 .792.268.792.804V48h-.51v-2.046c0-.196-.032-.33-.096-.402-.064-.076-.172-.114-.324-.114-.18 0-.36.044-.54.132a7.94 7.94 0 0 0-.642.36l-.024-.366c.228-.176.454-.312.678-.408.224-.1.446-.15.666-.15Zm-1.344.072.042.558.036.09V48h-.51v-2.922h.432Zm4.026-.072c.128 0 .264.004.408.012.144.008.286.018.426.03.144.012.276.028.396.048l-.042.372c-.184-.008-.37-.014-.558-.018a12.707 12.707 0 0 0-.552-.012c-.18-.004-.322 0-.426.012-.104.012-.18.044-.228.096-.044.052-.066.14-.066.264 0 .152.036.252.108.3a.98.98 0 0 0 .318.12l.852.192c.232.056.402.142.51.258.112.116.168.298.168.546 0 .24-.046.42-.138.54a.654.654 0 0 1-.408.24c-.184.04-.418.06-.702.06-.104 0-.26-.004-.468-.012a5.692 5.692 0 0 1-.678-.072l.036-.372c.096.004.198.01.306.018.108.004.22.006.336.006h.366c.22 0 .392-.01.516-.03.124-.02.212-.058.264-.114.052-.06.078-.148.078-.264 0-.144-.042-.24-.126-.288a1.246 1.246 0 0 0-.336-.12l-.84-.192a1.235 1.235 0 0 1-.384-.156.597.597 0 0 1-.21-.258 1.07 1.07 0 0 1-.066-.402c0-.228.04-.4.12-.516a.598.598 0 0 1 .372-.234 2.7 2.7 0 0 1 .648-.054Zm6.401.072-.852 2.778a.2.2 0 0 1-.072.108.222.222 0 0 1-.126.036h-.462a.225.225 0 0 1-.132-.042.2.2 0 0 1-.066-.12l-.48-1.986-.048-.228a2.705 2.705 0 0 0-.048-.234h-.072c-.016.08-.034.158-.054.234l-.048.228-.474 1.986a.232.232 0 0 1-.072.12.208.208 0 0 1-.132.042h-.456a.222.222 0 0 1-.126-.036.2.2 0 0 1-.072-.108l-.852-2.778h.528l.606 2.154a4.111 4.111 0 0 1 .096.438h.078c.02-.072.038-.144.054-.216.02-.076.038-.15.054-.222l.486-1.992a.187.187 0 0 1 .192-.162h.462c.048 0 .088.016.12.048.036.028.06.068.072.12l.48 1.986.048.216c.02.072.038.146.054.222h.078c.02-.076.036-.148.048-.216.012-.072.03-.146.054-.222l.606-2.154h.528Zm1.802-.072c.44 0 .758.08.954.24.2.16.3.398.3.714.004.26-.05.464-.162.612-.112.144-.29.216-.534.216h-1.704v-.396h1.572c.132 0 .218-.044.258-.132a.744.744 0 0 0 .06-.3c-.004-.188-.06-.322-.168-.402-.108-.08-.292-.12-.552-.12-.212 0-.38.032-.504.096a.526.526 0 0 0-.258.324c-.048.152-.072.366-.072.642 0 .312.03.55.09.714a.572.572 0 0 0 .3.336c.136.06.316.09.54.09.156 0 .326-.006.51-.018.188-.016.356-.034.504-.054l.054.342a1.82 1.82 0 0 1-.342.09 4.32 4.32 0 0 1-.414.054c-.14.012-.266.018-.378.018-.336 0-.606-.05-.81-.15a.952.952 0 0 1-.45-.492c-.092-.228-.138-.528-.138-.9 0-.384.046-.686.138-.906a.881.881 0 0 1 .438-.474c.2-.096.456-.144.768-.144Zm2.419.072.066.558.048.09V48h-.51v-2.922h.396Zm1.434-.072-.06.48h-.168c-.172 0-.344.036-.516.108a7.176 7.176 0 0 0-.63.294l-.042-.318c.216-.176.432-.314.648-.414.22-.1.432-.15.636-.15h.132Zm2.943-1.218c.264 0 .49.022.678.066.192.044.338.13.438.258.104.128.156.318.156.57 0 .172-.024.334-.072.486-.044.152-.12.31-.228.474a5.11 5.11 0 0 1-.438.546l-1.188 1.326a7.829 7.829 0 0 1 .672-.024h1.404V48h-2.718v-.33c0-.044.006-.084.018-.12a.288.288 0 0 1 .06-.108l1.2-1.356c.264-.284.458-.536.582-.756.124-.22.182-.428.174-.624-.004-.136-.038-.234-.102-.294a.456.456 0 0 0-.264-.126 2.365 2.365 0 0 0-.408-.03c-.128 0-.25.002-.366.006-.116.004-.24.014-.372.03a6.802 6.802 0 0 0-.45.06l-.036-.408a5.8 5.8 0 0 1 .492-.096 4.074 4.074 0 0 1 .768-.06Z"
              fill="#C6C6C6"
            />
            <path
              d="M62.65 24.534a.871.871 0 0 1-.471-1.611 5.41 5.41 0 0 0-.166-9.277.87.87 0 1 1 .871-1.507 7.151 7.151 0 0 1 .21 12.247.871.871 0 0 1-.445.148Z"
              fill="#838383"
            />
            <path
              d="M64.574 29.7a.87.87 0 0 1-.392-1.647 10.835 10.835 0 0 0-.148-19.511.87.87 0 1 1 .758-1.568A12.578 12.578 0 0 1 65 29.62a.872.872 0 0 1-.427.078Zm-6.637.766a1.742 1.742 0 0 1-1.237-.514l-6.48-6.507h-4.478A1.743 1.743 0 0 1 44 21.703v-6.968a1.742 1.742 0 0 1 1.742-1.742h4.547l6.385-6.437a1.742 1.742 0 0 1 3.005 1.21v20.906a1.742 1.742 0 0 1-1.08 1.611 1.743 1.743 0 0 1-.662.183ZM45.742 14.735v6.968h4.843a.87.87 0 0 1 .618.262l6.734 6.759V7.767l-6.664 6.707a.87.87 0 0 1-.618.26h-4.913Z"
              fill="#838383"
            />
          </svg>
        </template>
      </MechanicCard>
    </div>
  </div>
</template>

<script setup lang="ts">
import { storeToRefs } from "pinia";
import { getAsset, showFormattedNumber } from "@/utils";

// stores
import { useDataStore } from "@/store/data.ts";
import { useLocaleStore } from "@/store/locale.ts";

// components
import MechanicCard from "@/components/UI/MechanicCard.vue";

const emit = defineEmits<{
  close: [];
}>();

const dataStore = useDataStore();
const localeStore = useLocaleStore();

const { battles: locale } = storeToRefs(localeStore);
const { battles } = dataStore;
const { profile } = storeToRefs(dataStore);

const onMechSelect = (mechId: number) => {
  const mechName = battles.getMechanicName(mechId);

  if (battles.mechanics[mechName].disabled) {
    return;
  }

  battles.changeMechanic(mechId);
  emit("close");
};
</script>
