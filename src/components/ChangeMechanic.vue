<template>
  <div id="change-mechanic" class="flex-1">
    <span class="bg-pill-title">{{ locale["select_mechanic"] }}</span>

    <div class="pill-grid grid grid-cols-2 gap-4 pt-4">
      <!-- yes/no -->
      <Pill class="flex flex-col justify-between relative" :class="{ 'outline outline-2 outline-[var(--accent-color)]': battles.currentBattleType === 1 }" color="light">
        <div class="content flex flex-col gap-2 items-center justify-between text-center">
          <div class="pill-img my-2">
            <svg width="116" height="60" viewBox="0 0 116 60" fill="none" xmlns="http://www.w3.org/2000/svg">
              <rect x="14.5" y="13.5" width="36" height="36" rx="2.5" stroke="white" stroke-dasharray="2 2" />
              <path
                d="M33.6022 32.483L39.8197 26.2821C39.9425 26.139 40.0067 25.955 39.9994 25.7667C39.9921 25.5785 39.9139 25.3999 39.7803 25.2667C39.6468 25.1335 39.4677 25.0554 39.2789 25.0482C39.0902 25.0409 38.9056 25.1049 38.7622 25.2275L32.5447 31.4283L26.3272 25.22C26.1859 25.0791 25.9944 25 25.7947 25C25.5949 25 25.4034 25.0791 25.2622 25.22C25.1209 25.3608 25.0416 25.5519 25.0416 25.7511C25.0416 25.9502 25.1209 26.1413 25.2622 26.2821L31.4872 32.483L25.2622 38.6839C25.1836 38.7509 25.1199 38.8334 25.0749 38.9262C25.0298 39.019 25.0045 39.1201 25.0006 39.2231C24.9966 39.3261 25.014 39.4289 25.0517 39.5249C25.0894 39.6208 25.1466 39.708 25.2197 39.7809C25.2928 39.8538 25.3802 39.9109 25.4764 39.9485C25.5727 39.9861 25.6757 40.0034 25.7789 39.9994C25.8822 39.9955 25.9836 39.9702 26.0766 39.9253C26.1697 39.8804 26.2524 39.8168 26.3197 39.7385L32.5447 33.5377L38.7622 39.7385C38.9056 39.8611 39.0902 39.9251 39.2789 39.9178C39.4677 39.9106 39.6468 39.8325 39.7803 39.6993C39.9139 39.5661 39.9921 39.3875 39.9994 39.1993C40.0067 39.011 39.9425 38.827 39.8197 38.6839L33.6022 32.483Z"
                fill="#F02D2D"
              />
              <rect x="64.5" y="13.5" width="36" height="36" rx="2.5" stroke="white" stroke-dasharray="2 2" />
              <path d="M74.5 31.5L80 37L91.5 26" stroke="#519A58" stroke-width="1.5" stroke-linecap="round" />
            </svg>
          </div>
          <span class="fira-semibold">{{ locale["yesno_title"] || "Yes-no" }}</span>
          <span class="fira-condensed text-[#838383] leading-5">{{ locale["yesno_desc"] || "A battle with yes or no questions. The easiest battle" }}</span>
        </div>
        <button v-if="battles.currentBattleType === 1" class="w-full bg-[var(--accent-color)] text-black rounded-full fira-condensed-bold mt-2 py-1">
          {{ locale["button_active"] || "Active" }}
        </button>
        <button v-else class="w-full bg-[var(--green-color)] text-white rounded-full fira-condensed-bold mt-2 py-1" @click="() => onMechSelect(1)">
          {{ locale["button_yesno"] || "Select" }}
        </button>
      </Pill>

      <!-- 4 answers -->
      <Pill class="flex flex-col justify-between outline-1 relative" :class="{ 'outline outline-2 outline-[var(--accent-color)]': battles.currentBattleType === 2 }" color="light">
        <div class="league absolute top-2 left-2 flex gap-1 items-center rounded-full px-1 bg-[var(--grey-dark)]">
          <img class="h-4" :src="getAsset('league')" />
          <span class="text-sm exo-bold">: {{ battles.mechanics["4answers"].league }}</span>
        </div>
        <div class="bolts-bonus absolute top-2 right-2 flex gap-1 items-center rounded-full px-1 bg-[var(--grey-dark)]">
          <span class="text-sm exo-bold">+{{ battles.mechanics["4answers"].bolts_bonus }}%</span>
          <img class="h-4" :src="getAsset('bolt')" />
        </div>
        <div class="content flex flex-col gap-2 items-center justify-between text-center">
          <div class="pill-img mt-6 mb-4">
            <svg width="87" height="37" viewBox="0 0 87 37" fill="none" xmlns="http://www.w3.org/2000/svg">
              <rect x="0.5" y="22.5" width="36" height="14" rx="2.5" stroke="white" stroke-dasharray="2 2" />
              <rect x="50.5" y="22.5" width="36" height="14" rx="2.5" stroke="white" stroke-dasharray="2 2" />
              <rect x="0.5" y="0.5" width="36" height="14" rx="2.5" stroke="white" stroke-dasharray="2 2" />
              <rect x="50.5" y="0.5" width="36" height="14" rx="2.5" stroke="white" stroke-dasharray="2 2" />
              <path
                d="M7.848 6.006C8.064 6.006 8.246 6.036 8.394 6.096C8.546 6.152 8.66 6.248 8.736 6.384C8.812 6.52 8.85 6.706 8.85 6.942V9H8.448L8.37 8.364L8.334 8.298V6.942C8.334 6.762 8.292 6.634 8.208 6.558C8.128 6.478 7.972 6.438 7.74 6.438C7.588 6.438 7.396 6.446 7.164 6.462C6.936 6.478 6.71 6.496 6.486 6.516L6.438 6.138C6.574 6.114 6.722 6.092 6.882 6.072C7.046 6.052 7.212 6.036 7.38 6.024C7.548 6.012 7.704 6.006 7.848 6.006ZM8.61 7.2L8.604 7.584L7.206 7.59C7.066 7.594 6.968 7.632 6.912 7.704C6.856 7.772 6.828 7.868 6.828 7.992V8.178C6.828 8.33 6.864 8.442 6.936 8.514C7.008 8.582 7.124 8.616 7.284 8.616C7.396 8.616 7.522 8.596 7.662 8.556C7.806 8.512 7.95 8.446 8.094 8.358C8.238 8.27 8.37 8.158 8.49 8.022V8.4C8.446 8.456 8.382 8.522 8.298 8.598C8.218 8.67 8.12 8.742 8.004 8.814C7.892 8.882 7.766 8.94 7.626 8.988C7.49 9.032 7.342 9.054 7.182 9.054C7.01 9.054 6.858 9.024 6.726 8.964C6.594 8.9 6.49 8.808 6.414 8.688C6.342 8.564 6.306 8.414 6.306 8.238V7.92C6.306 7.692 6.376 7.516 6.516 7.392C6.66 7.264 6.86 7.2 7.116 7.2H8.61ZM11.537 6.006C12.065 6.006 12.329 6.274 12.329 6.81V9H11.819V6.954C11.819 6.758 11.787 6.624 11.723 6.552C11.659 6.476 11.551 6.438 11.399 6.438C11.219 6.438 11.039 6.482 10.859 6.57C10.679 6.658 10.465 6.778 10.217 6.93L10.193 6.564C10.421 6.388 10.647 6.252 10.871 6.156C11.095 6.056 11.317 6.006 11.537 6.006ZM10.193 6.078L10.235 6.636L10.271 6.726V9H9.76097V6.078H10.193ZM14.2193 6.006C14.3473 6.006 14.4833 6.01 14.6273 6.018C14.7713 6.026 14.9133 6.036 15.0533 6.048C15.1973 6.06 15.3293 6.076 15.4493 6.096L15.4073 6.468C15.2233 6.46 15.0373 6.454 14.8493 6.45C14.6653 6.442 14.4813 6.438 14.2973 6.438C14.1173 6.434 13.9753 6.438 13.8713 6.45C13.7673 6.462 13.6913 6.494 13.6433 6.546C13.5993 6.598 13.5773 6.686 13.5773 6.81C13.5773 6.962 13.6133 7.062 13.6853 7.11C13.7573 7.158 13.8633 7.198 14.0033 7.23L14.8553 7.422C15.0873 7.478 15.2573 7.564 15.3653 7.68C15.4773 7.796 15.5333 7.978 15.5333 8.226C15.5333 8.466 15.4873 8.646 15.3953 8.766C15.3073 8.886 15.1713 8.966 14.9873 9.006C14.8033 9.046 14.5693 9.066 14.2853 9.066C14.1813 9.066 14.0253 9.062 13.8173 9.054C13.6133 9.046 13.3873 9.022 13.1393 8.982L13.1753 8.61C13.2713 8.614 13.3733 8.62 13.4813 8.628C13.5893 8.632 13.7013 8.634 13.8173 8.634C13.9373 8.634 14.0593 8.634 14.1833 8.634C14.4033 8.634 14.5753 8.624 14.6993 8.604C14.8233 8.584 14.9113 8.546 14.9633 8.49C15.0153 8.43 15.0413 8.342 15.0413 8.226C15.0413 8.082 14.9993 7.986 14.9153 7.938C14.8313 7.89 14.7193 7.85 14.5793 7.818L13.7393 7.626C13.5793 7.586 13.4513 7.534 13.3553 7.47C13.2593 7.402 13.1893 7.316 13.1453 7.212C13.1013 7.104 13.0793 6.97 13.0793 6.81C13.0793 6.582 13.1193 6.41 13.1993 6.294C13.2793 6.178 13.4033 6.1 13.5713 6.06C13.7393 6.02 13.9553 6.002 14.2193 6.006ZM20.6202 6.078L19.7682 8.856C19.7562 8.9 19.7322 8.936 19.6962 8.964C19.6602 8.988 19.6182 9 19.5702 9H19.1082C19.0602 9 19.0162 8.986 18.9762 8.958C18.9402 8.926 18.9182 8.886 18.9102 8.838L18.4302 6.852C18.4142 6.776 18.3982 6.7 18.3822 6.624C18.3702 6.548 18.3542 6.47 18.3342 6.39H18.2622C18.2462 6.47 18.2282 6.548 18.2082 6.624C18.1922 6.7 18.1762 6.776 18.1602 6.852L17.6862 8.838C17.6742 8.886 17.6502 8.926 17.6142 8.958C17.5782 8.986 17.5342 9 17.4822 9H17.0262C16.9782 9 16.9362 8.988 16.9002 8.964C16.8642 8.936 16.8402 8.9 16.8282 8.856L15.9762 6.078H16.5042L17.1102 8.232C17.1302 8.304 17.1482 8.378 17.1642 8.454C17.1802 8.526 17.1942 8.598 17.2062 8.67H17.2842C17.3042 8.598 17.3222 8.526 17.3382 8.454C17.3582 8.378 17.3762 8.304 17.3922 8.232L17.8782 6.24C17.8862 6.192 17.9062 6.154 17.9382 6.126C17.9742 6.094 18.0182 6.078 18.0702 6.078H18.5322C18.5802 6.078 18.6202 6.094 18.6522 6.126C18.6882 6.154 18.7122 6.194 18.7242 6.246L19.2042 8.232C19.2202 8.304 19.2362 8.376 19.2522 8.448C19.2722 8.52 19.2902 8.594 19.3062 8.67H19.3842C19.4042 8.594 19.4202 8.522 19.4322 8.454C19.4442 8.382 19.4622 8.308 19.4862 8.232L20.0922 6.078H20.6202ZM22.4219 6.006C22.8619 6.006 23.1799 6.086 23.3759 6.246C23.5759 6.406 23.6759 6.644 23.6759 6.96C23.6799 7.22 23.6259 7.424 23.5139 7.572C23.4019 7.716 23.2239 7.788 22.9799 7.788H21.2759V7.392H22.8479C22.9799 7.392 23.0659 7.348 23.1059 7.26C23.1459 7.168 23.1659 7.068 23.1659 6.96C23.1619 6.772 23.1059 6.638 22.9979 6.558C22.8899 6.478 22.7059 6.438 22.4459 6.438C22.2339 6.438 22.0659 6.47 21.9419 6.534C21.8219 6.594 21.7359 6.702 21.6839 6.858C21.6359 7.01 21.6119 7.224 21.6119 7.5C21.6119 7.812 21.6419 8.05 21.7019 8.214C21.7659 8.378 21.8659 8.49 22.0019 8.55C22.1379 8.61 22.3179 8.64 22.5419 8.64C22.6979 8.64 22.8679 8.634 23.0519 8.622C23.2399 8.606 23.4079 8.588 23.5559 8.568L23.6099 8.91C23.5179 8.946 23.4039 8.976 23.2679 9C23.1359 9.024 22.9979 9.042 22.8539 9.054C22.7139 9.066 22.5879 9.072 22.4759 9.072C22.1399 9.072 21.8699 9.022 21.6659 8.922C21.4619 8.818 21.3119 8.654 21.2159 8.43C21.1239 8.202 21.0779 7.902 21.0779 7.53C21.0779 7.146 21.1239 6.844 21.2159 6.624C21.3119 6.4 21.4579 6.242 21.6539 6.15C21.8539 6.054 22.1099 6.006 22.4219 6.006ZM24.8406 6.078L24.9066 6.636L24.9546 6.726V9H24.4446V6.078H24.8406ZM26.2746 6.006L26.2146 6.486H26.0466C25.8746 6.486 25.7026 6.522 25.5306 6.594C25.3586 6.662 25.1486 6.76 24.9006 6.888L24.8586 6.57C25.0746 6.394 25.2906 6.256 25.5066 6.156C25.7266 6.056 25.9386 6.006 26.1426 6.006H26.2746ZM29.3078 4.86V9H28.7798V5.718C28.7798 5.658 28.7818 5.598 28.7858 5.538C28.7898 5.478 28.7978 5.418 28.8098 5.358L27.7958 5.676L27.7238 5.286L28.7798 4.86H29.3078Z"
                fill="#C6C6C6"
              />
              <path
                d="M7.848 28.006C8.064 28.006 8.246 28.036 8.394 28.096C8.546 28.152 8.66 28.248 8.736 28.384C8.812 28.52 8.85 28.706 8.85 28.942V31H8.448L8.37 30.364L8.334 30.298V28.942C8.334 28.762 8.292 28.634 8.208 28.558C8.128 28.478 7.972 28.438 7.74 28.438C7.588 28.438 7.396 28.446 7.164 28.462C6.936 28.478 6.71 28.496 6.486 28.516L6.438 28.138C6.574 28.114 6.722 28.092 6.882 28.072C7.046 28.052 7.212 28.036 7.38 28.024C7.548 28.012 7.704 28.006 7.848 28.006ZM8.61 29.2L8.604 29.584L7.206 29.59C7.066 29.594 6.968 29.632 6.912 29.704C6.856 29.772 6.828 29.868 6.828 29.992V30.178C6.828 30.33 6.864 30.442 6.936 30.514C7.008 30.582 7.124 30.616 7.284 30.616C7.396 30.616 7.522 30.596 7.662 30.556C7.806 30.512 7.95 30.446 8.094 30.358C8.238 30.27 8.37 30.158 8.49 30.022V30.4C8.446 30.456 8.382 30.522 8.298 30.598C8.218 30.67 8.12 30.742 8.004 30.814C7.892 30.882 7.766 30.94 7.626 30.988C7.49 31.032 7.342 31.054 7.182 31.054C7.01 31.054 6.858 31.024 6.726 30.964C6.594 30.9 6.49 30.808 6.414 30.688C6.342 30.564 6.306 30.414 6.306 30.238V29.92C6.306 29.692 6.376 29.516 6.516 29.392C6.66 29.264 6.86 29.2 7.116 29.2H8.61ZM11.537 28.006C12.065 28.006 12.329 28.274 12.329 28.81V31H11.819V28.954C11.819 28.758 11.787 28.624 11.723 28.552C11.659 28.476 11.551 28.438 11.399 28.438C11.219 28.438 11.039 28.482 10.859 28.57C10.679 28.658 10.465 28.778 10.217 28.93L10.193 28.564C10.421 28.388 10.647 28.252 10.871 28.156C11.095 28.056 11.317 28.006 11.537 28.006ZM10.193 28.078L10.235 28.636L10.271 28.726V31H9.76097V28.078H10.193ZM14.2193 28.006C14.3473 28.006 14.4833 28.01 14.6273 28.018C14.7713 28.026 14.9133 28.036 15.0533 28.048C15.1973 28.06 15.3293 28.076 15.4493 28.096L15.4073 28.468C15.2233 28.46 15.0373 28.454 14.8493 28.45C14.6653 28.442 14.4813 28.438 14.2973 28.438C14.1173 28.434 13.9753 28.438 13.8713 28.45C13.7673 28.462 13.6913 28.494 13.6433 28.546C13.5993 28.598 13.5773 28.686 13.5773 28.81C13.5773 28.962 13.6133 29.062 13.6853 29.11C13.7573 29.158 13.8633 29.198 14.0033 29.23L14.8553 29.422C15.0873 29.478 15.2573 29.564 15.3653 29.68C15.4773 29.796 15.5333 29.978 15.5333 30.226C15.5333 30.466 15.4873 30.646 15.3953 30.766C15.3073 30.886 15.1713 30.966 14.9873 31.006C14.8033 31.046 14.5693 31.066 14.2853 31.066C14.1813 31.066 14.0253 31.062 13.8173 31.054C13.6133 31.046 13.3873 31.022 13.1393 30.982L13.1753 30.61C13.2713 30.614 13.3733 30.62 13.4813 30.628C13.5893 30.632 13.7013 30.634 13.8173 30.634C13.9373 30.634 14.0593 30.634 14.1833 30.634C14.4033 30.634 14.5753 30.624 14.6993 30.604C14.8233 30.584 14.9113 30.546 14.9633 30.49C15.0153 30.43 15.0413 30.342 15.0413 30.226C15.0413 30.082 14.9993 29.986 14.9153 29.938C14.8313 29.89 14.7193 29.85 14.5793 29.818L13.7393 29.626C13.5793 29.586 13.4513 29.534 13.3553 29.47C13.2593 29.402 13.1893 29.316 13.1453 29.212C13.1013 29.104 13.0793 28.97 13.0793 28.81C13.0793 28.582 13.1193 28.41 13.1993 28.294C13.2793 28.178 13.4033 28.1 13.5713 28.06C13.7393 28.02 13.9553 28.002 14.2193 28.006ZM20.6202 28.078L19.7682 30.856C19.7562 30.9 19.7322 30.936 19.6962 30.964C19.6602 30.988 19.6182 31 19.5702 31H19.1082C19.0602 31 19.0162 30.986 18.9762 30.958C18.9402 30.926 18.9182 30.886 18.9102 30.838L18.4302 28.852C18.4142 28.776 18.3982 28.7 18.3822 28.624C18.3702 28.548 18.3542 28.47 18.3342 28.39H18.2622C18.2462 28.47 18.2282 28.548 18.2082 28.624C18.1922 28.7 18.1762 28.776 18.1602 28.852L17.6862 30.838C17.6742 30.886 17.6502 30.926 17.6142 30.958C17.5782 30.986 17.5342 31 17.4822 31H17.0262C16.9782 31 16.9362 30.988 16.9002 30.964C16.8642 30.936 16.8402 30.9 16.8282 30.856L15.9762 28.078H16.5042L17.1102 30.232C17.1302 30.304 17.1482 30.378 17.1642 30.454C17.1802 30.526 17.1942 30.598 17.2062 30.67H17.2842C17.3042 30.598 17.3222 30.526 17.3382 30.454C17.3582 30.378 17.3762 30.304 17.3922 30.232L17.8782 28.24C17.8862 28.192 17.9062 28.154 17.9382 28.126C17.9742 28.094 18.0182 28.078 18.0702 28.078H18.5322C18.5802 28.078 18.6202 28.094 18.6522 28.126C18.6882 28.154 18.7122 28.194 18.7242 28.246L19.2042 30.232C19.2202 30.304 19.2362 30.376 19.2522 30.448C19.2722 30.52 19.2902 30.594 19.3062 30.67H19.3842C19.4042 30.594 19.4202 30.522 19.4322 30.454C19.4442 30.382 19.4622 30.308 19.4862 30.232L20.0922 28.078H20.6202ZM22.4219 28.006C22.8619 28.006 23.1799 28.086 23.3759 28.246C23.5759 28.406 23.6759 28.644 23.6759 28.96C23.6799 29.22 23.6259 29.424 23.5139 29.572C23.4019 29.716 23.2239 29.788 22.9799 29.788H21.2759V29.392H22.8479C22.9799 29.392 23.0659 29.348 23.1059 29.26C23.1459 29.168 23.1659 29.068 23.1659 28.96C23.1619 28.772 23.1059 28.638 22.9979 28.558C22.8899 28.478 22.7059 28.438 22.4459 28.438C22.2339 28.438 22.0659 28.47 21.9419 28.534C21.8219 28.594 21.7359 28.702 21.6839 28.858C21.6359 29.01 21.6119 29.224 21.6119 29.5C21.6119 29.812 21.6419 30.05 21.7019 30.214C21.7659 30.378 21.8659 30.49 22.0019 30.55C22.1379 30.61 22.3179 30.64 22.5419 30.64C22.6979 30.64 22.8679 30.634 23.0519 30.622C23.2399 30.606 23.4079 30.588 23.5559 30.568L23.6099 30.91C23.5179 30.946 23.4039 30.976 23.2679 31C23.1359 31.024 22.9979 31.042 22.8539 31.054C22.7139 31.066 22.5879 31.072 22.4759 31.072C22.1399 31.072 21.8699 31.022 21.6659 30.922C21.4619 30.818 21.3119 30.654 21.2159 30.43C21.1239 30.202 21.0779 29.902 21.0779 29.53C21.0779 29.146 21.1239 28.844 21.2159 28.624C21.3119 28.4 21.4579 28.242 21.6539 28.15C21.8539 28.054 22.1099 28.006 22.4219 28.006ZM24.8406 28.078L24.9066 28.636L24.9546 28.726V31H24.4446V28.078H24.8406ZM26.2746 28.006L26.2146 28.486H26.0466C25.8746 28.486 25.7026 28.522 25.5306 28.594C25.3586 28.662 25.1486 28.76 24.9006 28.888L24.8586 28.57C25.0746 28.394 25.2906 28.256 25.5066 28.156C25.7266 28.056 25.9386 28.006 26.1426 28.006H26.2746ZM29.5718 26.86L28.4138 29.308C28.3778 29.388 28.3758 29.45 28.4078 29.494C28.4438 29.534 28.4958 29.554 28.5638 29.554H31.0178V29.932L30.4658 29.986H28.2698C28.1578 29.986 28.0638 29.954 27.9878 29.89C27.9118 29.826 27.8618 29.744 27.8378 29.644C27.8178 29.544 27.8298 29.444 27.8738 29.344L29.0498 26.86H29.5718ZM30.4838 27.652V31H29.9858V28.336L30.0758 27.652H30.4838Z"
                fill="#C6C6C6"
              />
              <path
                d="M58.848 6.006C59.064 6.006 59.246 6.036 59.394 6.096C59.546 6.152 59.66 6.248 59.736 6.384C59.812 6.52 59.85 6.706 59.85 6.942V9H59.448L59.37 8.364L59.334 8.298V6.942C59.334 6.762 59.292 6.634 59.208 6.558C59.128 6.478 58.972 6.438 58.74 6.438C58.588 6.438 58.396 6.446 58.164 6.462C57.936 6.478 57.71 6.496 57.486 6.516L57.438 6.138C57.574 6.114 57.722 6.092 57.882 6.072C58.046 6.052 58.212 6.036 58.38 6.024C58.548 6.012 58.704 6.006 58.848 6.006ZM59.61 7.2L59.604 7.584L58.206 7.59C58.066 7.594 57.968 7.632 57.912 7.704C57.856 7.772 57.828 7.868 57.828 7.992V8.178C57.828 8.33 57.864 8.442 57.936 8.514C58.008 8.582 58.124 8.616 58.284 8.616C58.396 8.616 58.522 8.596 58.662 8.556C58.806 8.512 58.95 8.446 59.094 8.358C59.238 8.27 59.37 8.158 59.49 8.022V8.4C59.446 8.456 59.382 8.522 59.298 8.598C59.218 8.67 59.12 8.742 59.004 8.814C58.892 8.882 58.766 8.94 58.626 8.988C58.49 9.032 58.342 9.054 58.182 9.054C58.01 9.054 57.858 9.024 57.726 8.964C57.594 8.9 57.49 8.808 57.414 8.688C57.342 8.564 57.306 8.414 57.306 8.238V7.92C57.306 7.692 57.376 7.516 57.516 7.392C57.66 7.264 57.86 7.2 58.116 7.2H59.61ZM62.537 6.006C63.065 6.006 63.329 6.274 63.329 6.81V9H62.819V6.954C62.819 6.758 62.787 6.624 62.723 6.552C62.659 6.476 62.551 6.438 62.399 6.438C62.219 6.438 62.039 6.482 61.859 6.57C61.679 6.658 61.465 6.778 61.217 6.93L61.193 6.564C61.421 6.388 61.647 6.252 61.871 6.156C62.095 6.056 62.317 6.006 62.537 6.006ZM61.193 6.078L61.235 6.636L61.271 6.726V9H60.761V6.078H61.193ZM65.2193 6.006C65.3473 6.006 65.4833 6.01 65.6273 6.018C65.7713 6.026 65.9133 6.036 66.0533 6.048C66.1973 6.06 66.3293 6.076 66.4493 6.096L66.4073 6.468C66.2233 6.46 66.0373 6.454 65.8493 6.45C65.6653 6.442 65.4813 6.438 65.2973 6.438C65.1173 6.434 64.9753 6.438 64.8713 6.45C64.7673 6.462 64.6913 6.494 64.6433 6.546C64.5993 6.598 64.5773 6.686 64.5773 6.81C64.5773 6.962 64.6133 7.062 64.6853 7.11C64.7573 7.158 64.8633 7.198 65.0033 7.23L65.8553 7.422C66.0873 7.478 66.2573 7.564 66.3653 7.68C66.4773 7.796 66.5333 7.978 66.5333 8.226C66.5333 8.466 66.4873 8.646 66.3953 8.766C66.3073 8.886 66.1713 8.966 65.9873 9.006C65.8033 9.046 65.5693 9.066 65.2853 9.066C65.1813 9.066 65.0253 9.062 64.8173 9.054C64.6133 9.046 64.3873 9.022 64.1393 8.982L64.1753 8.61C64.2713 8.614 64.3733 8.62 64.4813 8.628C64.5893 8.632 64.7013 8.634 64.8173 8.634C64.9373 8.634 65.0593 8.634 65.1833 8.634C65.4033 8.634 65.5753 8.624 65.6993 8.604C65.8233 8.584 65.9113 8.546 65.9633 8.49C66.0153 8.43 66.0413 8.342 66.0413 8.226C66.0413 8.082 65.9993 7.986 65.9153 7.938C65.8313 7.89 65.7193 7.85 65.5793 7.818L64.7393 7.626C64.5793 7.586 64.4513 7.534 64.3553 7.47C64.2593 7.402 64.1893 7.316 64.1453 7.212C64.1013 7.104 64.0793 6.97 64.0793 6.81C64.0793 6.582 64.1193 6.41 64.1993 6.294C64.2793 6.178 64.4033 6.1 64.5713 6.06C64.7393 6.02 64.9553 6.002 65.2193 6.006ZM71.6202 6.078L70.7682 8.856C70.7562 8.9 70.7322 8.936 70.6962 8.964C70.6602 8.988 70.6182 9 70.5702 9H70.1082C70.0602 9 70.0162 8.986 69.9762 8.958C69.9402 8.926 69.9182 8.886 69.9102 8.838L69.4302 6.852C69.4142 6.776 69.3982 6.7 69.3822 6.624C69.3702 6.548 69.3542 6.47 69.3342 6.39H69.2622C69.2462 6.47 69.2282 6.548 69.2082 6.624C69.1922 6.7 69.1762 6.776 69.1602 6.852L68.6862 8.838C68.6742 8.886 68.6502 8.926 68.6142 8.958C68.5782 8.986 68.5342 9 68.4822 9H68.0262C67.9782 9 67.9362 8.988 67.9002 8.964C67.8642 8.936 67.8402 8.9 67.8282 8.856L66.9762 6.078H67.5042L68.1102 8.232C68.1302 8.304 68.1482 8.378 68.1642 8.454C68.1802 8.526 68.1942 8.598 68.2062 8.67H68.2842C68.3042 8.598 68.3222 8.526 68.3382 8.454C68.3582 8.378 68.3762 8.304 68.3922 8.232L68.8782 6.24C68.8862 6.192 68.9062 6.154 68.9382 6.126C68.9742 6.094 69.0182 6.078 69.0702 6.078H69.5322C69.5802 6.078 69.6202 6.094 69.6522 6.126C69.6882 6.154 69.7122 6.194 69.7242 6.246L70.2042 8.232C70.2202 8.304 70.2362 8.376 70.2522 8.448C70.2722 8.52 70.2902 8.594 70.3062 8.67H70.3842C70.4042 8.594 70.4202 8.522 70.4322 8.454C70.4442 8.382 70.4622 8.308 70.4862 8.232L71.0922 6.078H71.6202ZM73.4219 6.006C73.8619 6.006 74.1799 6.086 74.3759 6.246C74.5759 6.406 74.6759 6.644 74.6759 6.96C74.6799 7.22 74.6259 7.424 74.5139 7.572C74.4019 7.716 74.2239 7.788 73.9799 7.788H72.2759V7.392H73.8479C73.9799 7.392 74.0659 7.348 74.1059 7.26C74.1459 7.168 74.1659 7.068 74.1659 6.96C74.1619 6.772 74.1059 6.638 73.9979 6.558C73.8899 6.478 73.7059 6.438 73.4459 6.438C73.2339 6.438 73.0659 6.47 72.9419 6.534C72.8219 6.594 72.7359 6.702 72.6839 6.858C72.6359 7.01 72.6119 7.224 72.6119 7.5C72.6119 7.812 72.6419 8.05 72.7019 8.214C72.7659 8.378 72.8659 8.49 73.0019 8.55C73.1379 8.61 73.3179 8.64 73.5419 8.64C73.6979 8.64 73.8679 8.634 74.0519 8.622C74.2399 8.606 74.4079 8.588 74.5559 8.568L74.6099 8.91C74.5179 8.946 74.4039 8.976 74.2679 9C74.1359 9.024 73.9979 9.042 73.8539 9.054C73.7139 9.066 73.5879 9.072 73.4759 9.072C73.1399 9.072 72.8699 9.022 72.6659 8.922C72.4619 8.818 72.3119 8.654 72.2159 8.43C72.1239 8.202 72.0779 7.902 72.0779 7.53C72.0779 7.146 72.1239 6.844 72.2159 6.624C72.3119 6.4 72.4579 6.242 72.6539 6.15C72.8539 6.054 73.1099 6.006 73.4219 6.006ZM75.8406 6.078L75.9066 6.636L75.9546 6.726V9H75.4446V6.078H75.8406ZM77.2746 6.006L77.2146 6.486H77.0466C76.8746 6.486 76.7026 6.522 76.5306 6.594C76.3586 6.662 76.1486 6.76 75.9006 6.888L75.8586 6.57C76.0746 6.394 76.2906 6.256 76.5066 6.156C76.7266 6.056 76.9386 6.006 77.1426 6.006H77.2746ZM80.2178 4.788C80.4818 4.788 80.7078 4.81 80.8958 4.854C81.0878 4.898 81.2338 4.984 81.3338 5.112C81.4378 5.24 81.4898 5.43 81.4898 5.682C81.4898 5.854 81.4658 6.016 81.4178 6.168C81.3738 6.32 81.2978 6.478 81.1898 6.642C81.0818 6.802 80.9358 6.984 80.7518 7.188L79.5638 8.514C79.6678 8.506 79.7778 8.5 79.8938 8.496C80.0138 8.492 80.1278 8.49 80.2358 8.49H81.6398V9H78.9218V8.67C78.9218 8.626 78.9278 8.586 78.9398 8.55C78.9518 8.51 78.9718 8.474 78.9998 8.442L80.1998 7.086C80.4638 6.802 80.6578 6.55 80.7818 6.33C80.9058 6.11 80.9638 5.902 80.9558 5.706C80.9518 5.57 80.9178 5.472 80.8538 5.412C80.7938 5.348 80.7058 5.306 80.5898 5.286C80.4778 5.266 80.3418 5.256 80.1818 5.256C80.0538 5.256 79.9318 5.258 79.8158 5.262C79.6998 5.266 79.5758 5.276 79.4438 5.292C79.3158 5.304 79.1658 5.324 78.9938 5.352L78.9578 4.944C79.1458 4.9 79.3098 4.868 79.4498 4.848C79.5938 4.824 79.7258 4.808 79.8458 4.8C79.9698 4.792 80.0938 4.788 80.2178 4.788Z"
                fill="#C6C6C6"
              />
              <path
                d="M57.848 28.006C58.064 28.006 58.246 28.036 58.394 28.096C58.546 28.152 58.66 28.248 58.736 28.384C58.812 28.52 58.85 28.706 58.85 28.942V31H58.448L58.37 30.364L58.334 30.298V28.942C58.334 28.762 58.292 28.634 58.208 28.558C58.128 28.478 57.972 28.438 57.74 28.438C57.588 28.438 57.396 28.446 57.164 28.462C56.936 28.478 56.71 28.496 56.486 28.516L56.438 28.138C56.574 28.114 56.722 28.092 56.882 28.072C57.046 28.052 57.212 28.036 57.38 28.024C57.548 28.012 57.704 28.006 57.848 28.006ZM58.61 29.2L58.604 29.584L57.206 29.59C57.066 29.594 56.968 29.632 56.912 29.704C56.856 29.772 56.828 29.868 56.828 29.992V30.178C56.828 30.33 56.864 30.442 56.936 30.514C57.008 30.582 57.124 30.616 57.284 30.616C57.396 30.616 57.522 30.596 57.662 30.556C57.806 30.512 57.95 30.446 58.094 30.358C58.238 30.27 58.37 30.158 58.49 30.022V30.4C58.446 30.456 58.382 30.522 58.298 30.598C58.218 30.67 58.12 30.742 58.004 30.814C57.892 30.882 57.766 30.94 57.626 30.988C57.49 31.032 57.342 31.054 57.182 31.054C57.01 31.054 56.858 31.024 56.726 30.964C56.594 30.9 56.49 30.808 56.414 30.688C56.342 30.564 56.306 30.414 56.306 30.238V29.92C56.306 29.692 56.376 29.516 56.516 29.392C56.66 29.264 56.86 29.2 57.116 29.2H58.61ZM61.537 28.006C62.065 28.006 62.329 28.274 62.329 28.81V31H61.819V28.954C61.819 28.758 61.787 28.624 61.723 28.552C61.659 28.476 61.551 28.438 61.399 28.438C61.219 28.438 61.039 28.482 60.859 28.57C60.679 28.658 60.465 28.778 60.217 28.93L60.193 28.564C60.421 28.388 60.647 28.252 60.871 28.156C61.095 28.056 61.317 28.006 61.537 28.006ZM60.193 28.078L60.235 28.636L60.271 28.726V31H59.761V28.078H60.193ZM64.2193 28.006C64.3473 28.006 64.4833 28.01 64.6273 28.018C64.7713 28.026 64.9133 28.036 65.0533 28.048C65.1973 28.06 65.3293 28.076 65.4493 28.096L65.4073 28.468C65.2233 28.46 65.0373 28.454 64.8493 28.45C64.6653 28.442 64.4813 28.438 64.2973 28.438C64.1173 28.434 63.9753 28.438 63.8713 28.45C63.7673 28.462 63.6913 28.494 63.6433 28.546C63.5993 28.598 63.5773 28.686 63.5773 28.81C63.5773 28.962 63.6133 29.062 63.6853 29.11C63.7573 29.158 63.8633 29.198 64.0033 29.23L64.8553 29.422C65.0873 29.478 65.2573 29.564 65.3653 29.68C65.4773 29.796 65.5333 29.978 65.5333 30.226C65.5333 30.466 65.4873 30.646 65.3953 30.766C65.3073 30.886 65.1713 30.966 64.9873 31.006C64.8033 31.046 64.5693 31.066 64.2853 31.066C64.1813 31.066 64.0253 31.062 63.8173 31.054C63.6133 31.046 63.3873 31.022 63.1393 30.982L63.1753 30.61C63.2713 30.614 63.3733 30.62 63.4813 30.628C63.5893 30.632 63.7013 30.634 63.8173 30.634C63.9373 30.634 64.0593 30.634 64.1833 30.634C64.4033 30.634 64.5753 30.624 64.6993 30.604C64.8233 30.584 64.9113 30.546 64.9633 30.49C65.0153 30.43 65.0413 30.342 65.0413 30.226C65.0413 30.082 64.9993 29.986 64.9153 29.938C64.8313 29.89 64.7193 29.85 64.5793 29.818L63.7393 29.626C63.5793 29.586 63.4513 29.534 63.3553 29.47C63.2593 29.402 63.1893 29.316 63.1453 29.212C63.1013 29.104 63.0793 28.97 63.0793 28.81C63.0793 28.582 63.1193 28.41 63.1993 28.294C63.2793 28.178 63.4033 28.1 63.5713 28.06C63.7393 28.02 63.9553 28.002 64.2193 28.006ZM70.6202 28.078L69.7682 30.856C69.7562 30.9 69.7322 30.936 69.6962 30.964C69.6602 30.988 69.6182 31 69.5702 31H69.1082C69.0602 31 69.0162 30.986 68.9762 30.958C68.9402 30.926 68.9182 30.886 68.9102 30.838L68.4302 28.852C68.4142 28.776 68.3982 28.7 68.3822 28.624C68.3702 28.548 68.3542 28.47 68.3342 28.39H68.2622C68.2462 28.47 68.2282 28.548 68.2082 28.624C68.1922 28.7 68.1762 28.776 68.1602 28.852L67.6862 30.838C67.6742 30.886 67.6502 30.926 67.6142 30.958C67.5782 30.986 67.5342 31 67.4822 31H67.0262C66.9782 31 66.9362 30.988 66.9002 30.964C66.8642 30.936 66.8402 30.9 66.8282 30.856L65.9762 28.078H66.5042L67.1102 30.232C67.1302 30.304 67.1482 30.378 67.1642 30.454C67.1802 30.526 67.1942 30.598 67.2062 30.67H67.2842C67.3042 30.598 67.3222 30.526 67.3382 30.454C67.3582 30.378 67.3762 30.304 67.3922 30.232L67.8782 28.24C67.8862 28.192 67.9062 28.154 67.9382 28.126C67.9742 28.094 68.0182 28.078 68.0702 28.078H68.5322C68.5802 28.078 68.6202 28.094 68.6522 28.126C68.6882 28.154 68.7122 28.194 68.7242 28.246L69.2042 30.232C69.2202 30.304 69.2362 30.376 69.2522 30.448C69.2722 30.52 69.2902 30.594 69.3062 30.67H69.3842C69.4042 30.594 69.4202 30.522 69.4322 30.454C69.4442 30.382 69.4622 30.308 69.4862 30.232L70.0922 28.078H70.6202ZM72.4219 28.006C72.8619 28.006 73.1799 28.086 73.3759 28.246C73.5759 28.406 73.6759 28.644 73.6759 28.96C73.6799 29.22 73.6259 29.424 73.5139 29.572C73.4019 29.716 73.2239 29.788 72.9799 29.788H71.2759V29.392H72.8479C72.9799 29.392 73.0659 29.348 73.1059 29.26C73.1459 29.168 73.1659 29.068 73.1659 28.96C73.1619 28.772 73.1059 28.638 72.9979 28.558C72.8899 28.478 72.7059 28.438 72.4459 28.438C72.2339 28.438 72.0659 28.47 71.9419 28.534C71.8219 28.594 71.7359 28.702 71.6839 28.858C71.6359 29.01 71.6119 29.224 71.6119 29.5C71.6119 29.812 71.6419 30.05 71.7019 30.214C71.7659 30.378 71.8659 30.49 72.0019 30.55C72.1379 30.61 72.3179 30.64 72.5419 30.64C72.6979 30.64 72.8679 30.634 73.0519 30.622C73.2399 30.606 73.4079 30.588 73.5559 30.568L73.6099 30.91C73.5179 30.946 73.4039 30.976 73.2679 31C73.1359 31.024 72.9979 31.042 72.8539 31.054C72.7139 31.066 72.5879 31.072 72.4759 31.072C72.1399 31.072 71.8699 31.022 71.6659 30.922C71.4619 30.818 71.3119 30.654 71.2159 30.43C71.1239 30.202 71.0779 29.902 71.0779 29.53C71.0779 29.146 71.1239 28.844 71.2159 28.624C71.3119 28.4 71.4579 28.242 71.6539 28.15C71.8539 28.054 72.1099 28.006 72.4219 28.006ZM74.8406 28.078L74.9066 28.636L74.9546 28.726V31H74.4446V28.078H74.8406ZM76.2746 28.006L76.2146 28.486H76.0466C75.8746 28.486 75.7026 28.522 75.5306 28.594C75.3586 28.662 75.1486 28.76 74.9006 28.888L74.8586 28.57C75.0746 28.394 75.2906 28.256 75.5066 28.156C75.7266 28.056 75.9386 28.006 76.1426 28.006H76.2746ZM79.1398 26.782C79.4438 26.782 79.6878 26.812 79.8718 26.872C80.0598 26.928 80.1978 27.026 80.2858 27.166C80.3738 27.306 80.4178 27.498 80.4178 27.742C80.4178 27.918 80.3998 28.08 80.3638 28.228C80.3278 28.372 80.2658 28.494 80.1778 28.594C80.0938 28.69 79.9718 28.754 79.8118 28.786V28.81C80.0838 28.854 80.2698 28.968 80.3698 29.152C80.4738 29.332 80.5278 29.564 80.5318 29.848C80.5358 30.128 80.4958 30.36 80.4118 30.544C80.3278 30.724 80.1898 30.858 79.9978 30.946C79.8058 31.034 79.5458 31.078 79.2178 31.078C78.9978 31.078 78.7758 31.066 78.5518 31.042C78.3318 31.022 78.1158 30.998 77.9038 30.97L77.9398 30.544C78.0758 30.556 78.2058 30.568 78.3298 30.58C78.4578 30.588 78.5838 30.594 78.7078 30.598C78.8318 30.602 78.9578 30.604 79.0858 30.604C79.3098 30.604 79.4878 30.58 79.6198 30.532C79.7558 30.48 79.8538 30.394 79.9138 30.274C79.9778 30.154 80.0098 29.994 80.0098 29.794C80.0098 29.642 79.9878 29.51 79.9438 29.398C79.9038 29.282 79.8238 29.192 79.7038 29.128C79.5878 29.064 79.4158 29.032 79.1878 29.032H78.4198V28.618H79.1878C79.3518 28.618 79.4818 28.596 79.5778 28.552C79.6778 28.508 79.7518 28.452 79.7998 28.384C79.8478 28.312 79.8778 28.232 79.8898 28.144C79.9058 28.052 79.9138 27.958 79.9138 27.862C79.9098 27.686 79.8818 27.556 79.8298 27.472C79.7778 27.384 79.6898 27.326 79.5658 27.298C79.4458 27.266 79.2798 27.25 79.0678 27.25C78.8718 27.25 78.6818 27.256 78.4978 27.268C78.3178 27.276 78.1578 27.286 78.0178 27.298L77.9758 26.89C78.1798 26.854 78.3758 26.828 78.5638 26.812C78.7558 26.792 78.9478 26.782 79.1398 26.782Z"
                fill="#C6C6C6"
              />
            </svg>
          </div>
          <span class="fira-semibold">{{ locale["4answers_title"] }}</span>
          <span class="fira-condensed text-[#838383] leading-5">{{ locale["4answers_desc"] }}</span>
        </div>
        <button v-if="battles.currentBattleType === 2" class="w-full bg-[var(--accent-color)] text-black rounded-full fira-condensed-bold mt-2 py-1">
          {{ locale["button_active"] || "Active" }}
        </button>
        <button
          v-else-if="battles.mechanics['4answers'].nuts"
          class="w-full bg-[var(--green-color)] text-white rounded-full fira-condensed-bold mt-2 py-1"
          @click="() => onMechSelect(2)"
        >
          <span class="btn-content">
            {{ locale["button_trial_message"] }}
            <img class="h-4" :src="getAsset('nut')" />
            <span class="exo-black">{{ battles.mechanics["4answers"].nuts }}</span>
          </span>
        </button>
        <button
          v-else
          class="w-full bg-[var(--accent-color)] text-black rounded-full fira-condensed-bold mt-2 py-1"
          :class="{ 'bg-transparent border border-gray-500 text-gray-400': battles.mechanics['4answers'].disabled }"
          @click="() => onMechSelect(2)"
        >
          {{ locale["button_4answers"] }}
        </button>
      </Pill>

      <!-- bubble pairs -->
      <Pill class="flex flex-col justify-between relative" :class="{ 'outline outline-2 outline-[var(--accent-color)]': battles.currentBattleType === 3 }" color="light">
        <div class="league absolute top-2 left-2 flex gap-1 items-center rounded-full px-1 bg-[var(--grey-dark)]">
          <img class="h-4" :src="getAsset('league')" />
          <span class="text-sm exo-bold">: {{ battles.mechanics["bubble_pairs"].league }}</span>
        </div>
        <div class="bolts-bonus absolute top-2 right-2 flex gap-1 items-center rounded-full px-1 bg-[var(--grey-dark)]">
          <span class="text-sm exo-bold">+{{ battles.mechanics["bubble_pairs"].bolts_bonus }}%</span>
          <img class="h-4" :src="getAsset('bolt')" />
        </div>
        <div class="content flex flex-col gap-2 items-center justify-between text-center">
          <div class="pill-img m-4">
            <svg width="105" height="72" viewBox="0 0 105 72" fill="none" xmlns="http://www.w3.org/2000/svg">
              <ellipse cx="52.5" cy="44" rx="52.5" ry="23" fill="#595959" />
              <path
                d="M53.28 17.28C57.92 17.28 61.34 18.04 63.54 19.56C65.78 21.04 66.9 23.38 66.9 26.58C66.9 28.3 66.56 29.8 65.88 31.08C65.24 32.32 64.42 33.46 63.42 34.5C62.42 35.54 61.38 36.6 60.3 37.68C59.26 38.76 58.34 40 57.54 41.4C56.74 42.76 56.22 44.42 55.98 46.38H46.14C46.02 44.38 46.16 42.6 46.56 41.04C47 39.48 47.58 38.1 48.3 36.9C49.02 35.66 49.76 34.58 50.52 33.66C51.28 32.7 51.94 31.86 52.5 31.14C53.06 30.42 53.4 29.78 53.52 29.22C53.72 28.46 53.56 27.94 53.04 27.66C52.52 27.38 51.56 27.24 50.16 27.24C48.12 27.24 46.44 27.24 45.12 27.24C43.8 27.24 42.58 27.24 41.46 27.24C40.38 27.24 39.14 27.24 37.74 27.24L37.44 18.96C38.68 18.72 39.8 18.5 40.8 18.3C41.84 18.1 42.92 17.92 44.04 17.76C45.16 17.6 46.44 17.48 47.88 17.4C49.36 17.32 51.16 17.28 53.28 17.28ZM52.44 48.9C54.08 48.9 55.2 49.22 55.8 49.86C56.44 50.46 56.76 51.58 56.76 53.22V55.68C56.76 57.32 56.44 58.46 55.8 59.1C55.2 59.7 54.08 60 52.44 60H49.62C47.98 60 46.84 59.7 46.2 59.1C45.6 58.46 45.3 57.32 45.3 55.68V53.22C45.3 51.58 45.6 50.46 46.2 49.86C46.84 49.22 47.98 48.9 49.62 48.9H52.44Z"
                fill="white"
              />
              <path
                d="M84.8039 31.1891C86.8596 31.8694 88.2634 32.7075 89.0153 33.7035C89.7907 34.6876 89.9438 35.8885 89.4747 37.3062C89.2225 38.0682 88.8519 38.6829 88.363 39.1503C87.8977 39.6059 87.3673 39.9907 86.7717 40.3049C86.1762 40.619 85.5601 40.9362 84.9232 41.2563C84.3041 41.5823 83.7148 41.9968 83.1551 42.4998C82.6012 42.985 82.1275 43.6442 81.7338 44.4774L77.3743 43.0348C77.6144 42.1311 77.9374 41.363 78.3433 40.7305C78.7669 40.1039 79.2262 39.5775 79.7211 39.1514C80.2219 38.7076 80.7081 38.3376 81.1797 38.0415C81.6571 37.7276 82.0727 37.4522 82.4264 37.2153C82.78 36.9784 83.0245 36.7447 83.1598 36.5142C83.3598 36.2068 83.3651 35.953 83.1758 35.7527C82.9865 35.5524 82.5817 35.3496 81.9614 35.1444C81.0576 34.8453 80.3133 34.599 79.7285 34.4055C79.1437 34.2119 78.6032 34.0331 78.107 33.8689C77.6285 33.7105 77.0791 33.5287 76.4589 33.3235L77.5399 29.6111C78.1245 29.6866 78.6529 29.7533 79.1253 29.8113C79.6154 29.8752 80.1202 29.9538 80.6399 30.0471C81.1596 30.1404 81.7442 30.2749 82.3939 30.4506C83.0614 30.6321 83.8647 30.8783 84.8039 31.1891ZM79.796 45.0749C80.5226 45.3153 80.9719 45.6213 81.1439 45.9928C81.3394 46.3524 81.317 46.8956 81.0766 47.6221L80.7159 48.712C80.4755 49.4386 80.1666 49.8968 79.7892 50.0865C79.4354 50.2643 78.8952 50.233 78.1686 49.9926L76.9193 49.5792C76.1927 49.3387 75.7316 49.0387 75.536 48.679C75.364 48.3075 75.3983 47.7585 75.6387 47.0319L75.9993 45.942C76.2398 45.2154 76.5369 44.7632 76.8907 44.5853C77.2681 44.3956 77.82 44.421 78.5466 44.6614L79.796 45.0749Z"
                fill="white"
              />
              <path
                d="M22.3365 36.2815C23.8745 36.1181 25.0349 36.2495 25.8177 36.6758C26.6123 37.0875 27.066 37.8237 27.1787 38.8843C27.2393 39.4545 27.1795 39.9636 26.9992 40.4119C26.8307 40.8454 26.5991 41.2522 26.3043 41.6322C26.0094 42.0121 25.7021 42.4001 25.3821 42.7961C25.0754 43.1908 24.8142 43.6342 24.5983 44.1264C24.3811 44.6054 24.2672 45.174 24.2567 45.8321L20.9951 46.1788C20.8848 45.5201 20.8685 44.9251 20.9461 44.3939C21.037 43.8614 21.1807 43.3835 21.377 42.9604C21.572 42.524 21.7793 42.1399 21.9988 41.8082C22.2168 41.4632 22.406 41.1615 22.5663 40.9032C22.7265 40.6448 22.8167 40.4207 22.8367 40.2308C22.8762 39.9718 22.8049 39.8051 22.6227 39.7306C22.4404 39.6561 22.1173 39.6436 21.6532 39.6929C20.9771 39.7647 20.4202 39.8239 19.9827 39.8704C19.5451 39.9169 19.1407 39.9599 18.7695 39.9994C18.4115 40.0374 18.0005 40.0811 17.5364 40.1304L17.1453 37.3965C17.5478 37.2732 17.9113 37.1608 18.2358 37.0593C18.5734 36.9564 18.9251 36.8587 19.2907 36.7662C19.6563 36.6737 20.0763 36.5888 20.5508 36.5116C21.0386 36.4329 21.6338 36.3562 22.3365 36.2815ZM23.1721 46.7921C23.7157 46.7343 24.0982 46.8009 24.3196 46.9919C24.5529 47.1683 24.6984 47.5282 24.7562 48.0718L24.8429 48.8873C24.9007 49.4309 24.8348 49.82 24.6452 50.0547C24.4674 50.2747 24.1067 50.4136 23.5631 50.4714L22.6284 50.5707C22.0848 50.6285 21.6964 50.5692 21.4631 50.3929C21.2417 50.2019 21.1021 49.8346 21.0443 49.291L20.9576 48.4756C20.8998 47.932 20.9598 47.5502 21.1376 47.3302C21.3271 47.0955 21.6937 46.9492 22.2373 46.8915L23.1721 46.7921Z"
                fill="white"
              />
            </svg>
          </div>
          <span class="fira-semibold">{{ locale["bubble_pairs_title"] }}</span>
          <span class="fira-condensed text-[#838383] leading-5">{{ locale["bubble_pairs_desc"] }}</span>
        </div>
        <button v-if="battles.currentBattleType === 3" class="w-full bg-[var(--accent-color)] text-black rounded-full fira-condensed-bold mt-2 py-1">
          {{ locale["button_active"] || "Active" }}
        </button>
        <button
          class="w-full bg-[var(--accent-color)] text-black rounded-full fira-condensed-bold mt-2 py-1"
          :class="{ 'bg-transparent border border-gray-500 text-gray-400': battles.mechanics['bubble_pairs'].disabled }"
          @click="() => onMechSelect(3)"
        >
          {{ locale["button_bubble_pairs"] }}
        </button>
      </Pill>

      <!-- audio question -->
      <Pill class="flex flex-col justify-between relative" :class="{ 'outline outline-2 outline-[var(--accent-color)]': battles.currentBattleType === 4 }" color="light">
        <div class="league absolute top-2 left-2 flex gap-1 items-center rounded-full px-1 bg-[var(--grey-dark)]">
          <img class="h-4" :src="getAsset('league')" />
          <span class="text-sm exo-bold">: {{ battles.mechanics["audio_question"].league }}</span>
        </div>
        <div class="bolts-bonus absolute top-2 right-2 flex gap-1 items-center rounded-full px-1 bg-[var(--grey-dark)]">
          <span class="text-sm exo-bold">+{{ battles.mechanics["audio_question"].bolts_bonus }}%</span>
          <img class="h-4" :src="getAsset('bolt')" />
        </div>
        <div class="content flex flex-col gap-2 items-center justify-between text-center">
          <div class="pill-img m-4">
            <svg width="105" height="72" viewBox="0 0 105 72" fill="none" xmlns="http://www.w3.org/2000/svg">
              <ellipse cx="52.5" cy="44" rx="52.5" ry="23" fill="#595959" />
              <path
                d="M53.28 17.28C57.92 17.28 61.34 18.04 63.54 19.56C65.78 21.04 66.9 23.38 66.9 26.58C66.9 28.3 66.56 29.8 65.88 31.08C65.24 32.32 64.42 33.46 63.42 34.5C62.42 35.54 61.38 36.6 60.3 37.68C59.26 38.76 58.34 40 57.54 41.4C56.74 42.76 56.22 44.42 55.98 46.38H46.14C46.02 44.38 46.16 42.6 46.56 41.04C47 39.48 47.58 38.1 48.3 36.9C49.02 35.66 49.76 34.58 50.52 33.66C51.28 32.7 51.94 31.86 52.5 31.14C53.06 30.42 53.4 29.78 53.52 29.22C53.72 28.46 53.56 27.94 53.04 27.66C52.52 27.38 51.56 27.24 50.16 27.24C48.12 27.24 46.44 27.24 45.12 27.24C43.8 27.24 42.58 27.24 41.46 27.24C40.38 27.24 39.14 27.24 37.74 27.24L37.44 18.96C38.68 18.72 39.8 18.5 40.8 18.3C41.84 18.1 42.92 17.92 44.04 17.76C45.16 17.6 46.44 17.48 47.88 17.4C49.36 17.32 51.16 17.28 53.28 17.28ZM52.44 48.9C54.08 48.9 55.2 49.22 55.8 49.86C56.44 50.46 56.76 51.58 56.76 53.22V55.68C56.76 57.32 56.44 58.46 55.8 59.1C55.2 59.7 54.08 60 52.44 60H49.62C47.98 60 46.84 59.7 46.2 59.1C45.6 58.46 45.3 57.32 45.3 55.68V53.22C45.3 51.58 45.6 50.46 46.2 49.86C46.84 49.22 47.98 48.9 49.62 48.9H52.44Z"
                fill="white"
              />
              <path
                d="M84.8039 31.1891C86.8596 31.8694 88.2634 32.7075 89.0153 33.7035C89.7907 34.6876 89.9438 35.8885 89.4747 37.3062C89.2225 38.0682 88.8519 38.6829 88.363 39.1503C87.8977 39.6059 87.3673 39.9907 86.7717 40.3049C86.1762 40.619 85.5601 40.9362 84.9232 41.2563C84.3041 41.5823 83.7148 41.9968 83.1551 42.4998C82.6012 42.985 82.1275 43.6442 81.7338 44.4774L77.3743 43.0348C77.6144 42.1311 77.9374 41.363 78.3433 40.7305C78.7669 40.1039 79.2262 39.5775 79.7211 39.1514C80.2219 38.7076 80.7081 38.3376 81.1797 38.0415C81.6571 37.7276 82.0727 37.4522 82.4264 37.2153C82.78 36.9784 83.0245 36.7447 83.1598 36.5142C83.3598 36.2068 83.3651 35.953 83.1758 35.7527C82.9865 35.5524 82.5817 35.3496 81.9614 35.1444C81.0576 34.8453 80.3133 34.599 79.7285 34.4055C79.1437 34.2119 78.6032 34.0331 78.107 33.8689C77.6285 33.7105 77.0791 33.5287 76.4589 33.3235L77.5399 29.6111C78.1245 29.6866 78.6529 29.7533 79.1253 29.8113C79.6154 29.8752 80.1202 29.9538 80.6399 30.0471C81.1596 30.1404 81.7442 30.2749 82.3939 30.4506C83.0614 30.6321 83.8647 30.8783 84.8039 31.1891ZM79.796 45.0749C80.5226 45.3153 80.9719 45.6213 81.1439 45.9928C81.3394 46.3524 81.317 46.8956 81.0766 47.6221L80.7159 48.712C80.4755 49.4386 80.1666 49.8968 79.7892 50.0865C79.4354 50.2643 78.8952 50.233 78.1686 49.9926L76.9193 49.5792C76.1927 49.3387 75.7316 49.0387 75.536 48.679C75.364 48.3075 75.3983 47.7585 75.6387 47.0319L75.9993 45.942C76.2398 45.2154 76.5369 44.7632 76.8907 44.5853C77.2681 44.3956 77.82 44.421 78.5466 44.6614L79.796 45.0749Z"
                fill="white"
              />
              <path
                d="M22.3365 36.2815C23.8745 36.1181 25.0349 36.2495 25.8177 36.6758C26.6123 37.0875 27.066 37.8237 27.1787 38.8843C27.2393 39.4545 27.1795 39.9636 26.9992 40.4119C26.8307 40.8454 26.5991 41.2522 26.3043 41.6322C26.0094 42.0121 25.7021 42.4001 25.3821 42.7961C25.0754 43.1908 24.8142 43.6342 24.5983 44.1264C24.3811 44.6054 24.2672 45.174 24.2567 45.8321L20.9951 46.1788C20.8848 45.5201 20.8685 44.9251 20.9461 44.3939C21.037 43.8614 21.1807 43.3835 21.377 42.9604C21.572 42.524 21.7793 42.1399 21.9988 41.8082C22.2168 41.4632 22.406 41.1615 22.5663 40.9032C22.7265 40.6448 22.8167 40.4207 22.8367 40.2308C22.8762 39.9718 22.8049 39.8051 22.6227 39.7306C22.4404 39.6561 22.1173 39.6436 21.6532 39.6929C20.9771 39.7647 20.4202 39.8239 19.9827 39.8704C19.5451 39.9169 19.1407 39.9599 18.7695 39.9994C18.4115 40.0374 18.0005 40.0811 17.5364 40.1304L17.1453 37.3965C17.5478 37.2732 17.9113 37.1608 18.2358 37.0593C18.5734 36.9564 18.9251 36.8587 19.2907 36.7662C19.6563 36.6737 20.0763 36.5888 20.5508 36.5116C21.0386 36.4329 21.6338 36.3562 22.3365 36.2815ZM23.1721 46.7921C23.7157 46.7343 24.0982 46.8009 24.3196 46.9919C24.5529 47.1683 24.6984 47.5282 24.7562 48.0718L24.8429 48.8873C24.9007 49.4309 24.8348 49.82 24.6452 50.0547C24.4674 50.2747 24.1067 50.4136 23.5631 50.4714L22.6284 50.5707C22.0848 50.6285 21.6964 50.5692 21.4631 50.3929C21.2417 50.2019 21.1021 49.8346 21.0443 49.291L20.9576 48.4756C20.8998 47.932 20.9598 47.5502 21.1376 47.3302C21.3271 47.0955 21.6937 46.9492 22.2373 46.8915L23.1721 46.7921Z"
                fill="white"
              />
            </svg>
          </div>
          <span class="fira-semibold">{{ locale["audio_question_title"] }}</span>
          <span class="fira-condensed text-[#838383] leading-5">{{ locale["audio_question_desc"] }}</span>
        </div>
        <button v-if="battles.currentBattleType === 4" class="w-full bg-[var(--accent-color)] text-black rounded-full fira-condensed-bold mt-2 py-1">
          {{ locale["button_active"] || "Active" }}
        </button>
        <button
          class="w-full bg-[var(--accent-color)] text-black rounded-full fira-condensed-bold mt-2 py-1"
          :class="{ 'bg-transparent border border-gray-500 text-gray-400': battles.mechanics['audio_question'].disabled }"
          @click="() => onMechSelect(4)"
        >
          {{ locale["button_audio_question"] }}
        </button>
      </Pill>
    </div>
  </div>
</template>

<script setup lang="ts">
import { storeToRefs } from "pinia";
import { getAsset } from "@/utils";

// stores
import { useDataStore } from "@/store/data.ts";
import { useLocaleStore } from "@/store/locale.ts";

// components
import Pill from "@/components/UI/Pill.vue";

const emit = defineEmits<{
  close: [];
}>();

const dataStore = useDataStore();
const localeStore = useLocaleStore();

const { battles: locale } = storeToRefs(localeStore);
const { battles } = dataStore;

const onMechSelect = (mechId) => {
  const mechName = battles.getMechanicName(mechId);

  if (battles.mechanics[mechName].disabled) {
    return;
  }

  battles.changeMechanic(mechId);
  emit("close");
};
</script>
